import{A as $t}from"./AdminLayout.6e1876d9.js";import{d as I,r as S,q as at,j as z,m as C,s as nt,_ as B,f as s,o as p,g as M,w as i,c as n,k as c,J as st,D as J,a as y,e as a,t as U,p as Y,b as j,v as ot,x as it,y as lt,z as F,B as h,F as E,G as rt,H as O,I as D,h as $}from"./index.11151275.js";import{F as dt,a as ct}from"./FormOutlined.4f7c49f8.js";import{S as ut,a as pt,C as mt,b as ht}from"./StepForwardFilled.4c42427e.js";import{A as Tt,a as St,b as zt}from"./AddCity.cdf06c52.js";import{A as wt}from"./AddOrganization.7d8d8e53.js";const At=I({setup(){const t=S(!1),e=S(!1),d=()=>{t.value=!0,setTimeout(()=>{t.value=!1,e.value=!1},1e3)},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({trans_type:null,description:null});return{visible:e,handleOk:d,addTransactionTypeFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},data(){return{options_size:parseInt("5000")}},methods:{showModal(t){this.type_id=t,this.visible=!0,this.getTransactionType()},getTransactionType(){z.post(`/transaction-type/show/${this.type_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.addTransactionTypeFormState.trans_type=e.trans_type,this.addTransactionTypeFormState.description=e.description}).catch(t=>{console.error(t),C.error(t.response.data.message),this.visible=!1})},submit(){this.loading=!0,z.post(`/transaction-type/update/${this.type_id}`,nt(this.addTransactionTypeFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getTransactionTypes()}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1})}}});function Ft(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[2]||(e[2]=f=>t.visible=f),"ok-text":"Update",title:"Update Transaction Type",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addTransactionTypeFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"trans_type",label:"Transaction Type",rules:[{required:!0,message:"Please input the transaction type."}]},{default:i(()=>[n(_,{value:t.addTransactionTypeFormState.trans_type,"onUpdate:value":e[0]||(e[0]=f=>t.addTransactionTypeFormState.trans_type=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description"}]},{default:i(()=>[n(k,{value:t.addTransactionTypeFormState.description,"onUpdate:value":e[1]||(e[1]=f=>t.addTransactionTypeFormState.description=f),maxlength:255},null,8,["value"])]),_:1})]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const Pt=B(At,[["render",Ft]]);const Ot=I({props:["type_id","description"],components:{DeleteOutlined:J},setup(){const t=S(!1),e=S(!0),d=S(!1);return{visible:d,handleCancel:()=>{d.value=!1},handleOk:b=>{t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,z.delete(`/transaction-type/delete/${this.type_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),bt=t=>(Y("data-v-257dd45d"),t=t(),j(),t),Dt=bt(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),Ut={class:"delete-container"},It=bt(()=>a("br",null,null,-1)),Bt=bt(()=>a("p",null,[c("Type "),a("strong",null,'"YES DELETE"'),c(".")],-1));function Et(t,e,d,l,v,b){const _=s("DeleteOutlined"),u=s("a-input"),k=s("a-button"),T=s("a-modal");return p(),y("div",null,[n(_,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(T,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=m=>t.visible=m),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:i(()=>[n(k,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(k,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:i(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[Dt,a("div",Ut,[a("p",null,[a("strong",null,[c("ID: "+U(t.type_id),1),It,c(" Description: "+U(t.description),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=m=>t.confirmation_input=m),onInput:e[1]||(e[1]=m=>t.checkText())},null,8,["value"]),Bt])]),_:1},8,["visible","onOk"])])}const Mt=B(Ot,[["render",Et],["__scopeId","data-v-257dd45d"]]);const Lt=I({components:{FormOutlined:dt,DeleteOutlined:J,FilterOutlined:ct,DownOutlined:ot,CaretUpOutlined:it,CaretDownOutlined:lt,EditData:Pt,DeleteData:Mt,StepBackwardFilled:ut,StepForwardFilled:pt,CaretLeftFilled:mt,CaretRightFilled:ht},setup(){const t=S([{title:"ID",dataIndex:"id",key:"id",width:100,resizable:!0},{title:"Transaction Type",dataIndex:"trans_type",key:"trans_type",width:100,resizable:!0},{title:"Description",dataIndex:"description",key:"description",width:400,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:150,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:t,handleResizeColumn:(d,l)=>{l.width=d}}},data(){return{active_records:0,data:[],transaction_type_list:[],transaction_type_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_id:null,filter_trans_type:null,filter_description:null,filter_created_at:null,sort_id:0,sort_trans_type:0,sort_description:0,sort_created_at:0},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getTransactionTypes(){this.form.per_page=this.pageSize,this.getTransactionsTypesByParams()},getTransactionsTypesByParams(){this.loading=!0,z.post("/transaction-type",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.transaction_type_list=e.data,this.transaction_type_pagination=e,this.loading=!1,C.success(e.message)}).catch(t=>{console.error(t),this.transaction_type_list=[],this.transaction_type_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(t.response.data.message)})},searchTransactionTypes(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getTransactionsTypesByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getTransactionsTypesByParams(),this.scrollToTop()},toFirstPage(){this.searchTransactionTypes(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for transaction types.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getTransactionsTypesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for transaction types.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getTransactionsTypesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for transaction types.")},toLastPage(){this.current=this.transaction_type_pagination.meta.to,this.form.page=this.current,this.getTransactionsTypesByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for transaction types.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchTransactionTypes(),t&&this.createAuditTrail("search")},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit transaction type button.")},createAuditTrail(t,e=null){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else if(t=="search"){let l="Searched transaction types by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let b=l.concat("",this.searched_columns).split(/sort(.*)/s),_=b[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=b[0].concat("sort",_).replace(/(^[,\s]+)|([,\s]+$)/g,"");d.activity=u}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}},mounted(){this.getTransactionTypes()}}),X=t=>(Y("data-v-c083c90b"),t=t(),j(),t),Kt={class:"client-filter"},Rt={class:"pagination text-right"},Nt={class:"d-inline-block"},Vt={class:"pagination-list lst-none p-0 d-inline-flex w-100"},qt=["disabled"],Yt=["disabled"],jt={class:"d-inline-block mr-2"},Jt=X(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),Gt=["disabled"],Ht={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},Qt={key:0,class:"ant-table-column-sorters"},Wt={class:"ant-table-column-title"},Xt=X(()=>a("br",null,null,-1)),Zt={class:"ant-table-column-sorter ant-table-column-sorter-full"},xt={key:1,class:"ant-table-column-sorters"},te={class:"ant-table-column-title"},ee=X(()=>a("br",null,null,-1)),ae={class:"ant-table-column-sorter ant-table-column-sorter-full"},ne={key:2,class:"ant-table-column-sorters"},se={class:"ant-table-column-title"},oe=X(()=>a("br",null,null,-1)),ie={class:"ant-table-column-sorter ant-table-column-sorter-full"},le={key:3,class:"ant-table-column-sorters"},re={class:"ant-table-column-title"},de=X(()=>a("br",null,null,-1)),ce={class:"ant-table-column-sorter ant-table-column-sorter-full"},ue={key:4,class:"ant-table-column-sorters"},pe={class:"ant-table-column-title"},me=X(()=>a("br",null,null,-1)),he={class:"ant-table-column-sorter ant-table-column-sorter-full"},ge=X(()=>a("br",null,null,-1)),_e=X(()=>a("br",null,null,-1)),fe={key:1,class:"action-container"};function be(t,e,d,l,v,b){const _=s("FilterOutlined"),u=s("a-input"),k=s("a-form-item"),T=s("a-form"),m=s("a-col"),P=s("StepBackwardFilled"),f=s("CaretLeftFilled"),L=s("a-input-number"),K=s("CaretRightFilled"),R=s("StepForwardFilled"),N=s("a-select-option"),V=s("a-select"),q=s("a-row"),w=s("CaretUpOutlined"),A=s("CaretDownOutlined"),G=s("a-tag"),H=s("FormOutlined"),Q=s("DeleteData"),W=s("a-table"),r=s("EditData");return p(),y(E,null,[a("div",Kt,[n(q,{gutter:24},{default:i(()=>[n(m,{span:6},{default:i(()=>[n(T,null,{default:i(()=>[n(k,{label:"Filter",name:"clientfilter"},{default:i(()=>[n(u,{value:t.form.filter_allcolumn,"onUpdate:value":e[0]||(e[0]=o=>t.form.filter_allcolumn=o),onKeypress:e[1]||(e[1]=F(o=>t.searchTransactionTypes(!0),["enter"]))},{prefix:i(()=>[n(_,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),n(m,{span:18},{default:i(()=>[a("div",Rt,[a("div",Nt,[a("ul",Vt,[a("li",{title:"First Page",class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[2]||(e[2]=(...o)=>t.toFirstPage&&t.toFirstPage(...o)),disabled:t.form.page==1},[n(P)],8,qt)],2),a("li",{class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[3]||(e[3]=(...o)=>t.toPreviousPage&&t.toPreviousPage(...o)),disabled:t.form.page==1},[n(f)],8,Yt)],2),a("li",jt,[Jt,n(L,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[4]||(e[4]=o=>t.current=o),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:h(["ant-pagination-next mr-2",t.transaction_type_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[5]||(e[5]=(...o)=>t.toNextPage&&t.toNextPage(...o)),disabled:!t.transaction_type_pagination.links.next},[n(K)],8,Gt)],2),a("li",Ht,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[6]||(e[6]=(...o)=>t.toLastPage&&t.toLastPage(...o)),disabled:""},[n(R)])]),n(V,{value:t.pageSize,"onUpdate:value":e[7]||(e[7]=o=>t.pageSize=o),onChange:t.onPageChange},{default:i(()=>[(p(!0),y(E,null,rt(t.page_sizes,(o,g)=>(p(),M(N,{value:o,key:g},{default:i(()=>[c(U(o+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(W,{sticky:"",columns:t.columns,"data-source":t.transaction_type_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1500},"row-class-name":(o,g)=>g%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:i(({column:o})=>[o.key==="transid"?(p(),y("div",Qt,[a("span",Wt,[c("Transaction ID"),Xt,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[8]||(e[8]=g=>t.form.filter_id=g),onKeypress:e[9]||(e[9]=F(g=>t.searchTransactionTypes(!0),["enter"]))},null,544),[[D,t.form.filter_id]])]),a("span",Zt,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[10]||(e[10]=g=>t.changeColumnSort(!0,"sort_id"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="id"?(p(),y("div",xt,[a("span",te,[c("Transaction Type ID"),ee,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[11]||(e[11]=g=>t.form.filter_id=g),onKeypress:e[12]||(e[12]=F(g=>t.searchTransactionTypes(!0),["enter"]))},null,544),[[D,t.form.filter_id]])]),a("span",ae,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[13]||(e[13]=g=>t.changeColumnSort(!0,"sort_id"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="trans_type"?(p(),y("div",ne,[a("span",se,[c("Client Type"),oe,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[14]||(e[14]=g=>t.form.filter_trans_type=g),onKeypress:e[15]||(e[15]=F(g=>t.searchTransactionTypes(!0),["enter"]))},null,544),[[D,t.form.filter_trans_type]])]),a("span",ie,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[16]||(e[16]=g=>t.changeColumnSort(!0,"sort_trans_type"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_trans_type==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_trans_type!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="description"?(p(),y("div",le,[a("span",re,[c("Description"),de,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[17]||(e[17]=g=>t.form.filter_description=g),onKeypress:e[18]||(e[18]=F(g=>t.searchTransactionTypes(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",ce,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[19]||(e[19]=g=>t.changeColumnSort(!0,"sort_description"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_description==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="created_at"?(p(),y("div",ue,[a("span",pe,[c("Created At"),me,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[20]||(e[20]=g=>t.form.filter_created_at=g),onKeypress:e[21]||(e[21]=F(g=>t.searchTransactionTypes(!0),["enter"]))},null,544),[[D,t.form.filter_created_at]])]),a("span",he,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[22]||(e[22]=g=>t.changeColumnSort(!0,"sort_created_at"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="action"?(p(),y(E,{key:5},[c(" Action"),ge,_e],64)):$("",!0)]),bodyCell:i(({column:o,record:g,text:_t})=>[o.dataIndex==="transtype"?(p(),M(G,{key:0,color:"#07DA63"},{default:i(()=>[c(U(_t),1)]),_:2},1024)):$("",!0),o.dataIndex==="action"?(p(),y("div",fe,[n(H,{onClick:ft=>t.showEditDataModal(g.id),class:"icon-edit"},null,8,["onClick"]),n(Q,{onClick:e[23]||(e[23]=ft=>t.createAuditTrail("click","Clicked on the delete transaction button.")),type_id:g.id,description:g.description},null,8,["type_id","description"])])):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),n(r,{ref:"editDataModal"},null,512)],64)}const ye=B(Lt,[["render",be],["__scopeId","data-v-c083c90b"]]),ke=I({setup(){const t=S(!1),e=S(!1),d=()=>{t.value=!0,setTimeout(()=>{t.value=!1,e.value=!1},1e3)},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({client_type:null,description:null});return{visible:e,handleOk:d,addClientTypeFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},data(){return{options_size:parseInt("5000")}},methods:{showModal(t){this.type_id=t,this.visible=!0,this.getClientType()},getClientType(){z.post(`/client-type/show/${this.type_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.addClientTypeFormState.client_type=e.client_type,this.addClientTypeFormState.description=e.description}).catch(t=>{console.error(t),C.error(t.response.data.message),this.visible=!1})},submit(){this.loading=!0,z.post(`/client-type/update/${this.type_id}`,nt(this.addClientTypeFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getClientTypes()}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1})}}});function ve(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[2]||(e[2]=f=>t.visible=f),"ok-text":"Update",title:"Update Client Type",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addClientTypeFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"client_type",label:"Client Type",rules:[{required:!0,message:"Please input the client type."}]},{default:i(()=>[n(_,{value:t.addClientTypeFormState.client_type,"onUpdate:value":e[0]||(e[0]=f=>t.addClientTypeFormState.client_type=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:i(()=>[n(k,{value:t.addClientTypeFormState.description,"onUpdate:value":e[1]||(e[1]=f=>t.addClientTypeFormState.description=f),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const Ce=B(ke,[["render",ve]]);const $e=I({props:["type_id","description"],components:{DeleteOutlined:J},setup(){const t=S(!1),e=S(!0),d=S(!1);return{visible:d,handleCancel:()=>{d.value=!1},handleOk:b=>{t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,z.delete(`/client-type/delete/${this.type_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),yt=t=>(Y("data-v-73ea2ee4"),t=t(),j(),t),Te=yt(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),Se={class:"delete-container"},ze=yt(()=>a("br",null,null,-1)),we=yt(()=>a("p",null,[c("Type "),a("strong",null,'"YES DELETE"'),c(".")],-1));function Ae(t,e,d,l,v,b){const _=s("DeleteOutlined"),u=s("a-input"),k=s("a-button"),T=s("a-modal");return p(),y("div",null,[n(_,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(T,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=m=>t.visible=m),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:i(()=>[n(k,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(k,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:i(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[Te,a("div",Se,[a("p",null,[a("strong",null,[c("ID: "+U(t.type_id),1),ze,c(" Description: "+U(t.description),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=m=>t.confirmation_input=m),onInput:e[1]||(e[1]=m=>t.checkText())},null,8,["value"]),we])]),_:1},8,["visible","onOk"])])}const Fe=B($e,[["render",Ae],["__scopeId","data-v-73ea2ee4"]]);const Pe=I({components:{FormOutlined:dt,DeleteOutlined:J,FilterOutlined:ct,DownOutlined:ot,CaretUpOutlined:it,CaretDownOutlined:lt,EditData:Ce,DeleteData:Fe,StepBackwardFilled:ut,StepForwardFilled:pt,CaretLeftFilled:mt,CaretRightFilled:ht},setup(){const t=S([{title:"ID",dataIndex:"id",key:"id",width:100,resizable:!0},{title:"Client Type",dataIndex:"client_type",key:"client_type",width:100,resizable:!0},{title:"Description",dataIndex:"description",key:"description",width:400,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:150,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:t,handleResizeColumn:(d,l)=>{l.width=d}}},data(){return{active_records:0,data:[],client_type_list:[],client_type_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_id:null,filter_client_type:null,filter_description:null,filter_created_at:null,sort_id:0,sort_client_type:0,sort_description:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getClientTypes(){this.form.per_page=this.pageSize,this.getClientTypesByParams()},getClientTypesByParams(){this.loading=!0,this.form.export_to="",z.post("/client-type",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.client_type_list=e.data,this.client_type_pagination=e,this.loading=!1,C.success(e.message)}).catch(t=>{console.error(t),this.client_type_list=[],this.client_type_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(t.response.data.message)})},searchClientTypes(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getClientTypesByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getClientTypesByParams(),this.scrollToTop()},toFirstPage(){this.searchClientTypes(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for client types.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getClientTypesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for client types.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getClientTypesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for client types.")},toLastPage(){this.current=this.client_type_pagination.meta.to,this.form.page=this.current,this.getClientTypesByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for client types.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchClientTypes(),t&&this.createAuditTrail("search")},getClientTypesStats(){z.get("/client-type/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{this.active_records=t.data.data.active_records}).catch(t=>{console.error(t.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit client type button.")},createAuditTrail(t,e=null){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else if(t=="search"){let l="Searched client types by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let b=l.concat("",this.searched_columns).split(/sort(.*)/s),_=b[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=b[0].concat("sort",_).replace(/(^[,\s]+)|([,\s]+$)/g,"");d.activity=u}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}},mounted(){this.getClientTypes()}}),x=t=>(Y("data-v-8e2a1bef"),t=t(),j(),t),Oe={class:"client-filter"},De={class:"pagination text-right"},Ue={class:"d-inline-block"},Ie={class:"pagination-list lst-none p-0 d-inline-flex w-100"},Be=["disabled"],Ee=["disabled"],Me={class:"d-inline-block mr-2"},Le=x(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),Ke=["disabled"],Re={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},Ne={key:0,class:"ant-table-column-sorters"},Ve={class:"ant-table-column-title"},qe=x(()=>a("br",null,null,-1)),Ye={class:"ant-table-column-sorter ant-table-column-sorter-full"},je={key:1,class:"ant-table-column-sorters"},Je={class:"ant-table-column-title"},Ge=x(()=>a("br",null,null,-1)),He={class:"ant-table-column-sorter ant-table-column-sorter-full"},Qe={key:2,class:"ant-table-column-sorters"},We={class:"ant-table-column-title"},Xe=x(()=>a("br",null,null,-1)),Ze={class:"ant-table-column-sorter ant-table-column-sorter-full"},xe={key:3,class:"ant-table-column-sorters"},ta={class:"ant-table-column-title"},ea=x(()=>a("br",null,null,-1)),aa={class:"ant-table-column-sorter ant-table-column-sorter-full"},na=x(()=>a("br",null,null,-1)),sa=x(()=>a("br",null,null,-1)),oa={key:1,class:"action-container"};function ia(t,e,d,l,v,b){const _=s("FilterOutlined"),u=s("a-input"),k=s("a-form-item"),T=s("a-form"),m=s("a-col"),P=s("StepBackwardFilled"),f=s("CaretLeftFilled"),L=s("a-input-number"),K=s("CaretRightFilled"),R=s("StepForwardFilled"),N=s("a-select-option"),V=s("a-select"),q=s("a-row"),w=s("CaretUpOutlined"),A=s("CaretDownOutlined"),G=s("a-tag"),H=s("FormOutlined"),Q=s("DeleteData"),W=s("a-table"),r=s("EditData");return p(),y(E,null,[a("div",Oe,[n(q,{gutter:24},{default:i(()=>[n(m,{span:6},{default:i(()=>[n(T,null,{default:i(()=>[n(k,{label:"Filter",name:"clientfilter"},{default:i(()=>[n(u,{value:t.form.filter_allcolumn,"onUpdate:value":e[0]||(e[0]=o=>t.form.filter_allcolumn=o),onKeypress:e[1]||(e[1]=F(o=>t.searchClientTypes(!0),["enter"]))},{prefix:i(()=>[n(_,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),n(m,{span:18},{default:i(()=>[a("div",De,[a("div",Ue,[a("ul",Ie,[a("li",{title:"First Page",class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[2]||(e[2]=(...o)=>t.toFirstPage&&t.toFirstPage(...o)),disabled:t.form.page==1},[n(P)],8,Be)],2),a("li",{class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[3]||(e[3]=(...o)=>t.toPreviousPage&&t.toPreviousPage(...o)),disabled:t.form.page==1},[n(f)],8,Ee)],2),a("li",Me,[Le,n(L,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[4]||(e[4]=o=>t.current=o),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:h(["ant-pagination-next mr-2",t.client_type_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[5]||(e[5]=(...o)=>t.toNextPage&&t.toNextPage(...o)),disabled:!t.client_type_pagination.links.next},[n(K)],8,Ke)],2),a("li",Re,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[6]||(e[6]=(...o)=>t.toLastPage&&t.toLastPage(...o)),disabled:""},[n(R)])]),n(V,{value:t.pageSize,"onUpdate:value":e[7]||(e[7]=o=>t.pageSize=o),onChange:t.onPageChange},{default:i(()=>[(p(!0),y(E,null,rt(t.page_sizes,(o,g)=>(p(),M(N,{value:o,key:g},{default:i(()=>[c(U(o+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(W,{sticky:"",columns:t.columns,"data-source":t.client_type_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1500},"row-class-name":(o,g)=>g%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:i(({column:o})=>[o.key==="id"?(p(),y("div",Ne,[a("span",Ve,[c("Client Type ID"),qe,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[8]||(e[8]=g=>t.form.filter_id=g),onKeypress:e[9]||(e[9]=F(g=>t.searchClientTypes(!0),["enter"]))},null,544),[[D,t.form.filter_id]])]),a("span",Ye,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[10]||(e[10]=g=>t.changeColumnSort(!0,"sort_id"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="client_type"?(p(),y("div",je,[a("span",Je,[c("Client Type"),Ge,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[11]||(e[11]=g=>t.form.filter_client_type=g),onKeypress:e[12]||(e[12]=F(g=>t.searchClientTypes(!0),["enter"]))},null,544),[[D,t.form.filter_client_type]])]),a("span",He,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[13]||(e[13]=g=>t.changeColumnSort(!0,"sort_client_type"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_client_type==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_client_type!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="description"?(p(),y("div",Qe,[a("span",We,[c("Description"),Xe,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[14]||(e[14]=g=>t.form.filter_description=g),onKeypress:e[15]||(e[15]=F(g=>t.searchClientTypes(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",Ze,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[16]||(e[16]=g=>t.changeColumnSort(!0,"sort_description"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_description==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="created_at"?(p(),y("div",xe,[a("span",ta,[c("Created At"),ea,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[17]||(e[17]=g=>t.form.filter_description=g),onKeypress:e[18]||(e[18]=F(g=>t.searchClientTypes(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",aa,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[19]||(e[19]=g=>t.changeColumnSort(!0,"sort_created_at"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),o.key==="action"?(p(),y(E,{key:4},[c(" Action"),na,sa],64)):$("",!0)]),bodyCell:i(({column:o,record:g,text:_t})=>[o.dataIndex==="client_type"?(p(),M(G,{key:0,color:"#07DA63"},{default:i(()=>[c(U(_t),1)]),_:2},1024)):$("",!0),o.dataIndex==="action"?(p(),y("div",oa,[n(H,{onClick:ft=>t.showEditDataModal(g.id),class:"icon-edit"},null,8,["onClick"]),n(Q,{onClick:e[20]||(e[20]=ft=>t.createAuditTrail("click","Clicked on the delete client type button.")),type_id:g.id,description:g.description},null,8,["type_id","description"])])):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),n(r,{ref:"editDataModal"},null,512)],64)}const la=B(Pe,[["render",ia],["__scopeId","data-v-8e2a1bef"]]),ra=I({setup(){const t=S(!1),e=S(!1),d=()=>{t.value=!0,setTimeout(()=>{t.value=!1,e.value=!1},1e3)},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({trans_type:null,description:null});return{visible:e,handleOk:d,addOrganizationFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},data(){return{options_size:parseInt("5000")}},methods:{showModal(t){this.organization_id=t,this.visible=!0,this.getOrganzation()},getOrganzation(){z.post(`/organization/show/${this.organization_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.addOrganizationFormState.organization=e.organization,this.addOrganizationFormState.description=e.description}).catch(t=>{console.error(t),C.error(t.response.data.message),this.visible=!1})},submit(){this.loading=!0,z.post(`/organization/update/${this.organization_id}`,nt(this.addOrganizationFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getOrganizations()}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1})}}});function da(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[2]||(e[2]=f=>t.visible=f),"ok-text":"Update",title:"Update Organization",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addOrganizationFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"organization",label:"Organization",rules:[{required:!0,message:"Please input the organization name."}]},{default:i(()=>[n(_,{value:t.addOrganizationFormState.organization,"onUpdate:value":e[0]||(e[0]=f=>t.addOrganizationFormState.organization=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:i(()=>[n(k,{value:t.addOrganizationFormState.description,"onUpdate:value":e[1]||(e[1]=f=>t.addOrganizationFormState.description=f),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const ca=B(ra,[["render",da]]);const ua=I({props:["organization_id","description"],components:{DeleteOutlined:J},setup(){const t=S(!1),e=S(!0),d=S(!1);return{visible:d,handleCancel:()=>{d.value=!1},handleOk:b=>{t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,z.delete(`/organization/delete/${this.organization_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),kt=t=>(Y("data-v-d19ab4f1"),t=t(),j(),t),pa=kt(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),ma={class:"delete-container"},ha=kt(()=>a("br",null,null,-1)),ga=kt(()=>a("p",null,[c("Type "),a("strong",null,'"YES DELETE"'),c(".")],-1));function _a(t,e,d,l,v,b){const _=s("DeleteOutlined"),u=s("a-input"),k=s("a-button"),T=s("a-modal");return p(),y("div",null,[n(_,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(T,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=m=>t.visible=m),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:i(()=>[n(k,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(k,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:i(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[pa,a("div",ma,[a("p",null,[a("strong",null,[c("ID: "+U(t.organization_id),1),ha,c(" Description: "+U(t.description),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=m=>t.confirmation_input=m),onInput:e[1]||(e[1]=m=>t.checkText())},null,8,["value"]),ga])]),_:1},8,["visible","onOk"])])}const fa=B(ua,[["render",_a],["__scopeId","data-v-d19ab4f1"]]);const ba=I({components:{FormOutlined:dt,DeleteOutlined:J,FilterOutlined:ct,DownOutlined:ot,CaretUpOutlined:it,CaretDownOutlined:lt,EditData:ca,DeleteData:fa,StepBackwardFilled:ut,StepForwardFilled:pt,CaretLeftFilled:mt,CaretRightFilled:ht},setup(){const t=S([{title:"ID",dataIndex:"id",key:"id",width:120,resizable:!0},{title:"Organization",dataIndex:"organization",key:"organization",width:300,resizable:!0,ellipsis:!0},{title:"Description",dataIndex:"description",key:"description",width:600,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:180,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:t,handleResizeColumn:(d,l)=>{l.width=d}}},data(){return{active_records:0,data:[],organization_list:[],organization_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_id:null,filter_client_type:null,filter_description:null,filter_created_at:null,sort_id:0,sort_client_type:0,sort_description:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getOrganizations(){this.form.per_page=this.pageSize,this.getOrganizationsByParams()},getOrganizationsByParams(){this.loading=!0,this.form.export_to="",z.post("/organization",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.organization_list=e.data,this.organization_pagination=e,this.loading=!1,C.success(e.message)}).catch(t=>{console.error(t),this.organization_list=[],this.organization_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(t.response.data.message)})},searchOrganizations(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getOrganizationsByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getOrganizationsByParams(),this.scrollToTop()},toFirstPage(){this.searchOrganizations(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for organizations.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getOrganizationsByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for organizations.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getOrganizationsByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for organizations.")},toLastPage(){this.current=this.organization_pagination.meta.to,this.form.page=this.current,this.getOrganizationsByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for organizations.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchOrganizations(),t&&this.createAuditTrail("search")},getOrganizationsStats(){z.get("/organization/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{this.active_records=t.data.data.active_records}).catch(t=>{console.error(t.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit organization button.")},createAuditTrail(t,e=null){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else if(t=="search"){let l="Searched organizations by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let b=l.concat("",this.searched_columns).split(/sort(.*)/s),_=b[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=b[0].concat("sort",_).replace(/(^[,\s]+)|([,\s]+$)/g,"");d.activity=u}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}},mounted(){this.getOrganizations()}}),tt=t=>(Y("data-v-c5bc0f87"),t=t(),j(),t),ya={class:"client-filter"},ka={class:"pagination text-right"},va={class:"d-inline-block"},Ca={class:"pagination-list lst-none p-0 d-inline-flex w-100"},$a=["disabled"],Ta=["disabled"],Sa={class:"d-inline-block mr-2"},za=tt(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),wa=["disabled"],Aa={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},Fa={key:0,class:"ant-table-column-sorters"},Pa={class:"ant-table-column-title"},Oa=tt(()=>a("br",null,null,-1)),Da={class:"ant-table-column-sorter ant-table-column-sorter-full"},Ua={key:1,class:"ant-table-column-sorters"},Ia={class:"ant-table-column-title"},Ba=tt(()=>a("br",null,null,-1)),Ea={class:"ant-table-column-sorter ant-table-column-sorter-full"},Ma={key:2,class:"ant-table-column-sorters"},La={class:"ant-table-column-title"},Ka=tt(()=>a("br",null,null,-1)),Ra={class:"ant-table-column-sorter ant-table-column-sorter-full"},Na={key:3,class:"ant-table-column-sorters"},Va={class:"ant-table-column-title"},qa=tt(()=>a("br",null,null,-1)),Ya={class:"ant-table-column-sorter ant-table-column-sorter-full"},ja=tt(()=>a("br",null,null,-1)),Ja=tt(()=>a("br",null,null,-1)),Ga={key:0,class:"action-container"};function Ha(t,e,d,l,v,b){const _=s("FilterOutlined"),u=s("a-input"),k=s("a-form-item"),T=s("a-form"),m=s("a-col"),P=s("StepBackwardFilled"),f=s("CaretLeftFilled"),L=s("a-input-number"),K=s("CaretRightFilled"),R=s("StepForwardFilled"),N=s("a-select-option"),V=s("a-select"),q=s("a-row"),w=s("CaretUpOutlined"),A=s("CaretDownOutlined"),G=s("FormOutlined"),H=s("DeleteData"),Q=s("a-table"),W=s("EditData");return p(),y(E,null,[a("div",ya,[n(q,{gutter:24},{default:i(()=>[n(m,{span:6},{default:i(()=>[n(T,null,{default:i(()=>[n(k,{label:"Filter",name:"clientfilter"},{default:i(()=>[n(u,{value:t.form.filter_allcolumn,"onUpdate:value":e[0]||(e[0]=r=>t.form.filter_allcolumn=r),onKeypress:e[1]||(e[1]=F(r=>t.searchOrganizations(!0),["enter"]))},{prefix:i(()=>[n(_,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),n(m,{span:18},{default:i(()=>[a("div",ka,[a("div",va,[a("ul",Ca,[a("li",{title:"First Page",class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[2]||(e[2]=(...r)=>t.toFirstPage&&t.toFirstPage(...r)),disabled:t.form.page==1},[n(P)],8,$a)],2),a("li",{class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[3]||(e[3]=(...r)=>t.toPreviousPage&&t.toPreviousPage(...r)),disabled:t.form.page==1},[n(f)],8,Ta)],2),a("li",Sa,[za,n(L,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[4]||(e[4]=r=>t.current=r),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:h(["ant-pagination-next mr-2",t.organization_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[5]||(e[5]=(...r)=>t.toNextPage&&t.toNextPage(...r)),disabled:!t.organization_pagination.links.next},[n(K)],8,wa)],2),a("li",Aa,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[6]||(e[6]=(...r)=>t.toLastPage&&t.toLastPage(...r)),disabled:""},[n(R)])]),n(V,{value:t.pageSize,"onUpdate:value":e[7]||(e[7]=r=>t.pageSize=r),onChange:t.onPageChange},{default:i(()=>[(p(!0),y(E,null,rt(t.page_sizes,(r,o)=>(p(),M(N,{value:r,key:o},{default:i(()=>[c(U(r+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(Q,{sticky:"",columns:t.columns,"data-source":t.organization_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1500},"row-class-name":(r,o)=>o%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:i(({column:r})=>[r.key==="id"?(p(),y("div",Fa,[a("span",Pa,[c("Organization ID"),Oa,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.filter_id=o),onKeypress:e[9]||(e[9]=F(o=>t.searchOrganizations(!0),["enter"]))},null,544),[[D,t.form.filter_id]])]),a("span",Da,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[10]||(e[10]=o=>t.changeColumnSort(!0,"sort_id"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="organization"?(p(),y("div",Ua,[a("span",Ia,[c("Organization"),Ba,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.filter_organization=o),onKeypress:e[12]||(e[12]=F(o=>t.searchOrganizations(!0),["enter"]))},null,544),[[D,t.form.filter_organization]])]),a("span",Ea,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[13]||(e[13]=o=>t.changeColumnSort(!0,"sort_organization"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_organization==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_organization!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="description"?(p(),y("div",Ma,[a("span",La,[c("Description"),Ka,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.filter_description=o),onKeypress:e[15]||(e[15]=F(o=>t.searchOrganizations(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",Ra,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[16]||(e[16]=o=>t.changeColumnSort(!0,"sort_description"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_description==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="created_at"?(p(),y("div",Na,[a("span",Va,[c("Created At"),qa,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[17]||(e[17]=o=>t.form.filter_created_at=o),onKeypress:e[18]||(e[18]=F(o=>t.searchOrganizations(!0),["enter"]))},null,544),[[D,t.form.filter_created_at]])]),a("span",Ya,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[19]||(e[19]=o=>t.changeColumnSort(!0,"sort_created_at"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="action"?(p(),y(E,{key:4},[c(" Action"),ja,Ja],64)):$("",!0)]),bodyCell:i(({column:r,record:o})=>[r.dataIndex==="action"?(p(),y("div",Ga,[n(G,{onClick:g=>t.showEditDataModal(o.id),class:"icon-edit"},null,8,["onClick"]),n(H,{onClick:e[20]||(e[20]=g=>t.createAuditTrail("click","Clicked on the delete organization button.")),organization_id:o.id,description:o.description},null,8,["organization_id","description"])])):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),n(W,{ref:"editDataModal"},null,512)],64)}const Qa=B(ba,[["render",Ha],["__scopeId","data-v-c5bc0f87"]]),Wa=I({setup(){const t=S(!1),e=S(!1),d=()=>{t.value=!0,setTimeout(()=>{t.value=!1,e.value=!1},1e3)},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({state:null,name:null,description:null});return{visible:e,handleOk:d,addStateFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},data(){return{options_size:parseInt("5000")}},methods:{showModal(t){this.state=t,this.visible=!0,this.getState()},getState(){z.post(`/state/show/${this.state}`,data,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.addStateFormState.state=e.state,this.addStateFormState.name=e.name,this.addStateFormState.description=e.description}).catch(t=>{console.error(t),C.error(t.response.data.message),this.visible=!1})},submit(){this.loading=!0,z.post(`/state/update/${this.state}`,nt(this.addStateFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getStates()}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1})}}});function Xa(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[3]||(e[3]=f=>t.visible=f),"ok-text":"Update",title:"Update State",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addStateFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"state",label:"State Abbreviation",rules:[{required:!0,message:"Please input the state abbreviation."}]},{default:i(()=>[n(_,{value:t.addStateFormState.state,"onUpdate:value":e[0]||(e[0]=f=>t.addStateFormState.state=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the state name."}]},{default:i(()=>[n(k,{value:t.addStateFormState.name,"onUpdate:value":e[1]||(e[1]=f=>t.addStateFormState.name=f),maxlength:50},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:i(()=>[n(k,{value:t.addStateFormState.description,"onUpdate:value":e[2]||(e[2]=f=>t.addStateFormState.description=f),maxlength:50},null,8,["value"])]),_:1},8,["rules"])]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const Za=B(Wa,[["render",Xa]]);const xa=I({props:["state","name"],components:{DeleteOutlined:J},setup(){const t=S(!1),e=S(!0),d=S(!1);return{visible:d,handleCancel:()=>{d.value=!1},handleOk:b=>{t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,z.delete(`/state/delete/${this.state}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),vt=t=>(Y("data-v-56a52611"),t=t(),j(),t),tn=vt(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),en={class:"delete-container"},an=vt(()=>a("br",null,null,-1)),nn=vt(()=>a("p",null,[c("Type "),a("strong",null,'"YES DELETE"'),c(".")],-1));function sn(t,e,d,l,v,b){const _=s("DeleteOutlined"),u=s("a-input"),k=s("a-button"),T=s("a-modal");return p(),y("div",null,[n(_,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(T,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=m=>t.visible=m),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:i(()=>[n(k,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(k,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:i(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[tn,a("div",en,[a("p",null,[a("strong",null,[c("Abbreviation: "+U(t.state),1),an,c(" State: "+U(t.name),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=m=>t.confirmation_input=m),onInput:e[1]||(e[1]=m=>t.checkText())},null,8,["value"]),nn])]),_:1},8,["visible","onOk"])])}const on=B(xa,[["render",sn],["__scopeId","data-v-56a52611"]]);const ln=I({components:{FormOutlined:dt,DeleteOutlined:J,FilterOutlined:ct,DownOutlined:ot,CaretUpOutlined:it,CaretDownOutlined:lt,EditData:Za,DeleteData:on,StepBackwardFilled:ut,StepForwardFilled:pt,CaretLeftFilled:mt,CaretRightFilled:ht},setup(){const t=S([{title:"State",dataIndex:"state",key:"state",width:100,resizable:!0},{title:"Name",dataIndex:"name",key:"name",width:250,resizable:!0,ellipsis:!0},{title:"Description",dataIndex:"description",key:"description",width:600,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:180,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:t,handleResizeColumn:(d,l)=>{l.width=d}}},data(){return{active_records:0,data:[],state_list:[],state_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_state:null,filter_name:null,filter_description:null,filter_created_at:null,sort_state:0,sort_name:0,sort_description:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getStates(){this.form.per_page=this.pageSize,this.getStatesByParams()},getStatesByParams(){this.loading=!0,this.form.export_to="",z.post("/state",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.state_list=e.data,this.state_pagination=e,this.loading=!1,C.success(e.message)}).catch(t=>{console.error(t),this.state_list=[],this.state_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(t.response.data.message)})},searchStates(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getStatesByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getStatesByParams(),this.scrollToTop()},toFirstPage(){this.searchStates(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for states.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getStatesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for states.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getStatesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for states.")},toLastPage(){this.current=this.state_pagination.meta.to,this.form.page=this.current,this.getStatesByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for states.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchStates(),t&&this.createAuditTrail("search")},getStatesStats(){z.get("/state/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{this.active_records=t.data.data.active_records}).catch(t=>{console.error(t.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit state button.")},createAuditTrail(t,e=null){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else if(t=="search"){let l="Searched states by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let b=l.concat("",this.searched_columns).split(/sort(.*)/s),_=b[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=b[0].concat("sort",_).replace(/(^[,\s]+)|([,\s]+$)/g,"");d.activity=u}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}},mounted(){this.getStates()}}),et=t=>(Y("data-v-5acfec91"),t=t(),j(),t),rn={class:"client-filter"},dn={class:"pagination text-right"},cn={class:"d-inline-block"},un={class:"pagination-list lst-none p-0 d-inline-flex w-100"},pn=["disabled"],mn=["disabled"],hn={class:"d-inline-block mr-2"},gn=et(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),_n=["disabled"],fn={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},bn={key:0,class:"ant-table-column-sorters"},yn={class:"ant-table-column-title"},kn=et(()=>a("br",null,null,-1)),vn={class:"ant-table-column-sorter ant-table-column-sorter-full"},Cn={key:1,class:"ant-table-column-sorters"},$n={class:"ant-table-column-title"},Tn=et(()=>a("br",null,null,-1)),Sn={class:"ant-table-column-sorter ant-table-column-sorter-full"},zn={key:2,class:"ant-table-column-sorters"},wn={class:"ant-table-column-title"},An=et(()=>a("br",null,null,-1)),Fn={class:"ant-table-column-sorter ant-table-column-sorter-full"},Pn={key:3,class:"ant-table-column-sorters"},On={class:"ant-table-column-title"},Dn=et(()=>a("br",null,null,-1)),Un={class:"ant-table-column-sorter ant-table-column-sorter-full"},In=et(()=>a("br",null,null,-1)),Bn=et(()=>a("br",null,null,-1)),En={key:0,class:"action-container"};function Mn(t,e,d,l,v,b){const _=s("FilterOutlined"),u=s("a-input"),k=s("a-form-item"),T=s("a-form"),m=s("a-col"),P=s("StepBackwardFilled"),f=s("CaretLeftFilled"),L=s("a-input-number"),K=s("CaretRightFilled"),R=s("StepForwardFilled"),N=s("a-select-option"),V=s("a-select"),q=s("a-row"),w=s("CaretUpOutlined"),A=s("CaretDownOutlined"),G=s("FormOutlined"),H=s("DeleteData"),Q=s("a-table"),W=s("EditData");return p(),y(E,null,[a("div",rn,[n(q,{gutter:24},{default:i(()=>[n(m,{span:6},{default:i(()=>[n(T,null,{default:i(()=>[n(k,{label:"Filter",name:"clientfilter"},{default:i(()=>[n(u,{value:t.form.filter_allcolumn,"onUpdate:value":e[0]||(e[0]=r=>t.form.filter_allcolumn=r),onKeypress:e[1]||(e[1]=F(r=>t.searchStates(!0),["enter"]))},{prefix:i(()=>[n(_,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),n(m,{span:18},{default:i(()=>[a("div",dn,[a("div",cn,[a("ul",un,[a("li",{title:"First Page",class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[2]||(e[2]=(...r)=>t.toFirstPage&&t.toFirstPage(...r)),disabled:t.form.page==1},[n(P)],8,pn)],2),a("li",{class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[3]||(e[3]=(...r)=>t.toPreviousPage&&t.toPreviousPage(...r)),disabled:t.form.page==1},[n(f)],8,mn)],2),a("li",hn,[gn,n(L,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[4]||(e[4]=r=>t.current=r),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:h(["ant-pagination-next mr-2",t.state_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[5]||(e[5]=(...r)=>t.toNextPage&&t.toNextPage(...r)),disabled:!t.state_pagination.links.next},[n(K)],8,_n)],2),a("li",fn,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[6]||(e[6]=(...r)=>t.toLastPage&&t.toLastPage(...r)),disabled:""},[n(R)])]),n(V,{value:t.pageSize,"onUpdate:value":e[7]||(e[7]=r=>t.pageSize=r),onChange:t.onPageChange},{default:i(()=>[(p(!0),y(E,null,rt(t.page_sizes,(r,o)=>(p(),M(N,{value:r,key:o},{default:i(()=>[c(U(r+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(Q,{sticky:"",columns:t.columns,"data-source":t.state_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1500},"row-class-name":(r,o)=>o%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:i(({column:r})=>[r.key==="state"?(p(),y("div",bn,[a("span",yn,[c("State"),kn,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.filter_state=o),onKeypress:e[9]||(e[9]=F(o=>t.searchStates(!0),["enter"]))},null,544),[[D,t.form.filter_state]])]),a("span",vn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[10]||(e[10]=o=>t.changeColumnSort(!0,"sort_state"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_state==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_state!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="name"?(p(),y("div",Cn,[a("span",$n,[c("Name"),Tn,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.filter_name=o),onKeypress:e[12]||(e[12]=F(o=>t.searchStates(!0),["enter"]))},null,544),[[D,t.form.filter_name]])]),a("span",Sn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[13]||(e[13]=o=>t.changeColumnSort(!0,"sort_name"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_name==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_name!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="description"?(p(),y("div",zn,[a("span",wn,[c("Description"),An,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.filter_description=o),onKeypress:e[15]||(e[15]=F(o=>t.searchStates(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",Fn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[16]||(e[16]=o=>t.changeColumnSort(!0,"sort_description"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_description==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="created_at"?(p(),y("div",Pn,[a("span",On,[c("Created At"),Dn,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[17]||(e[17]=o=>t.form.filter_created_at=o),onKeypress:e[18]||(e[18]=F(o=>t.searchStates(!0),["enter"]))},null,544),[[D,t.form.filter_created_at]])]),a("span",Un,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[19]||(e[19]=o=>t.changeColumnSort(!0,"sort_created_at"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="action"?(p(),y(E,{key:4},[c(" Action"),In,Bn],64)):$("",!0)]),bodyCell:i(({column:r,record:o})=>[r.dataIndex==="action"?(p(),y("div",En,[n(G,{onClick:g=>t.showEditDataModal(o.state),class:"icon-edit"},null,8,["onClick"]),n(H,{onClick:e[20]||(e[20]=g=>t.createAuditTrail("click","Clicked on the delete state button.")),state:o.state,name:o.name},null,8,["state","name"])])):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),n(W,{ref:"editDataModal"},null,512)],64)}const Ln=B(ln,[["render",Mn],["__scopeId","data-v-5acfec91"]]),Kn=I({setup(){const t=S(!1),e=S(!1),d=()=>{t.value=!0,setTimeout(()=>{t.value=!1,e.value=!1},1e3)},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({state:null,city:null,description:null});return{visible:e,handleOk:d,addCityFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},data(){return{options_size:parseInt("5000")}},methods:{showModal(t){this.city_id=t,this.visible=!0,this.getCity()},getCity(){z.post(`/city/show/${this.city_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.addCityFormState.state=e.state,this.addCityFormState.city=e.city,this.addCityFormState.description=e.description}).catch(t=>{console.error(t),C.error(t.response.data.message),this.visible=!1})},submit(){this.loading=!0,z.post(`/city/update/${this.city_id}`,nt(this.addCityFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getCities()}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1})}}});function Rn(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[3]||(e[3]=f=>t.visible=f),"ok-text":"Update",title:"Update City",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addCityFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"state",label:"State",rules:[{required:!0,message:"Please input the state."}]},{default:i(()=>[n(_,{value:t.addCityFormState.state,"onUpdate:value":e[0]||(e[0]=f=>t.addCityFormState.state=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"city",label:"City Name",rules:[{required:!0,message:"Please input the city name."}]},{default:i(()=>[n(_,{value:t.addCityFormState.city,"onUpdate:value":e[1]||(e[1]=f=>t.addCityFormState.city=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:i(()=>[n(k,{value:t.addCityFormState.description,"onUpdate:value":e[2]||(e[2]=f=>t.addCityFormState.description=f),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const Nn=B(Kn,[["render",Rn]]);const Vn=I({props:["city_id","state","city"],components:{DeleteOutlined:J},setup(){const t=S(!1),e=S(!0),d=S(!1);return{visible:d,handleCancel:()=>{d.value=!1},handleOk:b=>{t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,z.delete(`/city/delete/${this.city_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),C.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),Ct=t=>(Y("data-v-a5ca1230"),t=t(),j(),t),qn=Ct(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),Yn={class:"delete-container"},jn=Ct(()=>a("br",null,null,-1)),Jn=Ct(()=>a("p",null,[c("Type "),a("strong",null,'"YES DELETE"'),c(".")],-1));function Gn(t,e,d,l,v,b){const _=s("DeleteOutlined"),u=s("a-input"),k=s("a-button"),T=s("a-modal");return p(),y("div",null,[n(_,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(T,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=m=>t.visible=m),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:i(()=>[n(k,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(k,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:i(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[qn,a("div",Yn,[a("p",null,[a("strong",null,[c("State: "+U(t.state),1),jn,c(" City: "+U(t.city),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=m=>t.confirmation_input=m),onInput:e[1]||(e[1]=m=>t.checkText())},null,8,["value"]),Jn])]),_:1},8,["visible","onOk"])])}const Hn=B(Vn,[["render",Gn],["__scopeId","data-v-a5ca1230"]]);const Qn=I({components:{FormOutlined:dt,DeleteOutlined:J,FilterOutlined:ct,DownOutlined:ot,CaretUpOutlined:it,CaretDownOutlined:lt,EditData:Nn,DeleteData:Hn,StepBackwardFilled:ut,StepForwardFilled:pt,CaretLeftFilled:mt,CaretRightFilled:ht},setup(){const t=S([{title:"ID",dataIndex:"id",key:"id",width:100,resizable:!0},{title:"State",dataIndex:"state",key:"state",width:100,resizable:!0},{title:"City",dataIndex:"city",key:"city",width:250,resizable:!0},{title:"Description",dataIndex:"description",key:"description",width:600,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:180,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:t,handleResizeColumn:(d,l)=>{l.width=d}}},data(){return{active_records:0,data:[],city_list:[],city_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_id:null,filter_state:null,filter_description:null,filter_created_at:null,sort_id:0,sort_client_type:0,sort_description:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getCities(){this.form.per_page=this.pageSize,this.getCitiesByParams()},getCitiesByParams(){this.loading=!0,this.form.export_to="",z.post("/city",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.city_list=e.data,this.city_pagination=e,this.loading=!1,C.success(e.message)}).catch(t=>{console.error(t),this.city_list=[],this.city_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(t.response.data.message)})},searchCities(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getCitiesByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getCitiesByParams(),this.scrollToTop()},toFirstPage(){this.searchCities(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for cities.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getCitiesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for cities.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getCitiesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for cities.")},toLastPage(){this.current=this.city_pagination.meta.to,this.form.page=this.current,this.getCitiesByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for cities.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchCities(),t&&this.createAuditTrail("search")},getCitiesStats(){z.get("/city/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{this.active_records=t.data.data.active_records}).catch(t=>{console.error(t.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit city button.")},createAuditTrail(t,e=null){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else if(t=="search"){let l="Searched cities by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let b=l.concat("",this.searched_columns).split(/sort(.*)/s),_=b[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=b[0].concat("sort",_).replace(/(^[,\s]+)|([,\s]+$)/g,"");d.activity=u}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}},mounted(){this.getCities()}}),Z=t=>(Y("data-v-b8f16aba"),t=t(),j(),t),Wn={class:"client-filter"},Xn={class:"pagination text-right"},Zn={class:"d-inline-block"},xn={class:"pagination-list lst-none p-0 d-inline-flex w-100"},ts=["disabled"],es=["disabled"],as={class:"d-inline-block mr-2"},ns=Z(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),ss=["disabled"],os={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},is={key:0,class:"ant-table-column-sorters"},ls={class:"ant-table-column-title"},rs=Z(()=>a("br",null,null,-1)),ds={class:"ant-table-column-sorter ant-table-column-sorter-full"},cs={key:1,class:"ant-table-column-sorters"},us={class:"ant-table-column-title"},ps=Z(()=>a("br",null,null,-1)),ms={class:"ant-table-column-sorter ant-table-column-sorter-full"},hs={key:2,class:"ant-table-column-sorters"},gs={class:"ant-table-column-title"},_s=Z(()=>a("br",null,null,-1)),fs={class:"ant-table-column-sorter ant-table-column-sorter-full"},bs={key:3,class:"ant-table-column-sorters"},ys={class:"ant-table-column-title"},ks=Z(()=>a("br",null,null,-1)),vs={class:"ant-table-column-sorter ant-table-column-sorter-full"},Cs={key:4,class:"ant-table-column-sorters"},$s={class:"ant-table-column-title"},Ts=Z(()=>a("br",null,null,-1)),Ss={class:"ant-table-column-sorter ant-table-column-sorter-full"},zs=Z(()=>a("br",null,null,-1)),ws=Z(()=>a("br",null,null,-1)),As={key:0,class:"action-container"};function Fs(t,e,d,l,v,b){const _=s("FilterOutlined"),u=s("a-input"),k=s("a-form-item"),T=s("a-form"),m=s("a-col"),P=s("StepBackwardFilled"),f=s("CaretLeftFilled"),L=s("a-input-number"),K=s("CaretRightFilled"),R=s("StepForwardFilled"),N=s("a-select-option"),V=s("a-select"),q=s("a-row"),w=s("CaretUpOutlined"),A=s("CaretDownOutlined"),G=s("FormOutlined"),H=s("DeleteData"),Q=s("a-table"),W=s("EditData");return p(),y(E,null,[a("div",Wn,[n(q,{gutter:24},{default:i(()=>[n(m,{span:6},{default:i(()=>[n(T,null,{default:i(()=>[n(k,{label:"Filter",name:"clientfilter"},{default:i(()=>[n(u,{value:t.form.filter_allcolumn,"onUpdate:value":e[0]||(e[0]=r=>t.form.filter_allcolumn=r),onKeypress:e[1]||(e[1]=F(r=>t.searchCities(!0),["enter"]))},{prefix:i(()=>[n(_,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),n(m,{span:18},{default:i(()=>[a("div",Xn,[a("div",Zn,[a("ul",xn,[a("li",{title:"First Page",class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[2]||(e[2]=(...r)=>t.toFirstPage&&t.toFirstPage(...r)),disabled:t.form.page==1},[n(P)],8,ts)],2),a("li",{class:h(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[3]||(e[3]=(...r)=>t.toPreviousPage&&t.toPreviousPage(...r)),disabled:t.form.page==1},[n(f)],8,es)],2),a("li",as,[ns,n(L,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[4]||(e[4]=r=>t.current=r),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:h(["ant-pagination-next mr-2",t.city_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[5]||(e[5]=(...r)=>t.toNextPage&&t.toNextPage(...r)),disabled:!t.city_pagination.links.next},[n(K)],8,ss)],2),a("li",os,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[6]||(e[6]=(...r)=>t.toLastPage&&t.toLastPage(...r)),disabled:""},[n(R)])]),n(V,{value:t.pageSize,"onUpdate:value":e[7]||(e[7]=r=>t.pageSize=r),onChange:t.onPageChange},{default:i(()=>[(p(!0),y(E,null,rt(t.page_sizes,(r,o)=>(p(),M(N,{value:r,key:o},{default:i(()=>[c(U(r+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(Q,{sticky:"",columns:t.columns,"data-source":t.city_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1500},"row-class-name":(r,o)=>o%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:i(({column:r})=>[r.key==="id"?(p(),y("div",is,[a("span",ls,[c("City ID"),rs,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.filter_id=o),onKeypress:e[9]||(e[9]=F(o=>t.searchCities(!0),["enter"]))},null,544),[[D,t.form.filter_id]])]),a("span",ds,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[10]||(e[10]=o=>t.changeColumnSort(!0,"sort_id"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="state"?(p(),y("div",cs,[a("span",us,[c("State"),ps,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.filter_state=o),onKeypress:e[12]||(e[12]=F(o=>t.searchCities(!0),["enter"]))},null,544),[[D,t.form.filter_state]])]),a("span",ms,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[13]||(e[13]=o=>t.changeColumnSort(!0,"sort_state"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_state==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_state!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="city"?(p(),y("div",hs,[a("span",gs,[c("City"),_s,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.filter_city=o),onKeypress:e[15]||(e[15]=F(o=>t.searchCities(!0),["enter"]))},null,544),[[D,t.form.filter_city]])]),a("span",fs,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[16]||(e[16]=o=>t.changeColumnSort(!0,"sort_city"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_city==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_city!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="description"?(p(),y("div",bs,[a("span",ys,[c("Description"),ks,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[17]||(e[17]=o=>t.form.filter_description=o),onKeypress:e[18]||(e[18]=F(o=>t.searchCities(!0),["enter"]))},null,544),[[D,t.form.filter_description]])]),a("span",vs,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[19]||(e[19]=o=>t.changeColumnSort(!0,"sort_description"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_description==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="created_at"?(p(),y("div",Cs,[a("span",$s,[c("Created At"),Ts,O(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[20]||(e[20]=o=>t.form.filter_created_at=o),onKeypress:e[21]||(e[21]=F(o=>t.searchCities(!0),["enter"]))},null,544),[[D,t.form.filter_created_at]])]),a("span",Ss,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[22]||(e[22]=o=>t.changeColumnSort(!0,"sort_created_at"))},[n(w,{class:h(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(A,{class:h(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),r.key==="action"?(p(),y(E,{key:5},[c(" Action"),zs,ws],64)):$("",!0)]),bodyCell:i(({column:r,record:o})=>[r.dataIndex==="action"?(p(),y("div",As,[n(G,{onClick:g=>t.showEditDataModal(o.id),class:"icon-edit"},null,8,["onClick"]),n(H,{onClick:e[23]||(e[23]=g=>t.createAuditTrail("click","Clicked on the delete city button.")),city_id:o.id,state:o.state,city:o.city},null,8,["city_id","state","city"])])):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),n(W,{ref:"editDataModal"},null,512)],64)}const Ps=B(Qn,[["render",Fs],["__scopeId","data-v-b8f16aba"]]),Os=I({setup(){const t=S(!1),e=S(!1),d=u=>{e.value=!1},l=()=>{e.value=!1},v={labelCol:{span:8},wrapperCol:{span:16}},b=at({trans_type:null,description:null});return{visible:e,handleOk:d,addTransactionTypeFormState:b,onFinish:u=>{console.log("Success:",u)},layout:v,handleCancel:l,loading:t}},methods:{showModal(){this.visible=!0},submit(){this.loading=!0,z.post("/transaction-type/store",nt(this.addTransactionTypeFormState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{C.success(t.data.message),this.visible=!1,this.loading=!1,this.addTransactionTypeFormState.trans_type=null,this.addTransactionTypeFormState.description=null,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{C.error(t.response.data.message),this.loading=!1})}}});function Ds(t,e,d,l,v,b){const _=s("a-input"),u=s("a-form-item"),k=s("a-textarea"),T=s("a-form"),m=s("a-button"),P=s("a-modal");return p(),M(P,{centered:"",visible:t.visible,"onUpdate:visible":e[2]||(e[2]=f=>t.visible=f),"ok-text":"Add",title:"Add Transaction Type",onOk:t.handleOk},{footer:i(()=>[n(m,{key:"back",onClick:t.handleCancel},{default:i(()=>[c("Cancel")]),_:1},8,["onClick"]),n(m,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:i(()=>[c("Add")]),_:1},8,["loading","disabled","onClick"])]),default:i(()=>[n(T,st({model:t.addTransactionTypeFormState},t.layout,{onFinish:t.onFinish}),{default:i(()=>[n(u,{name:"trans_type",label:"Transaction Type",rules:[{required:!0,message:"Please input the transaction type."}]},{default:i(()=>[n(_,{value:t.addTransactionTypeFormState.trans_type,"onUpdate:value":e[0]||(e[0]=f=>t.addTransactionTypeFormState.trans_type=f)},null,8,["value"])]),_:1},8,["rules"]),n(u,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:i(()=>[n(k,{value:t.addTransactionTypeFormState.description,"onUpdate:value":e[1]||(e[1]=f=>t.addTransactionTypeFormState.description=f),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1},16,["model","onFinish"])]),_:1},8,["visible","onOk"])}const Us=B(Os,[["render",Ds]]);const Is=I({components:{AdminLayout:$t,TransactionList:ye,AddTransactionType:Us,AddClientType:Tt,ClientTypeList:la,OrganizationList:Qa,AddOrganization:wt,StateList:Ln,AddState:St,CityList:Ps,AddCity:zt},data(){return{title:"Settings",activeKey:S("1"),current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{showAddTransactionTypeModal(){this.$refs.addTransactionTypeModal.showModal(),this.createAuditTrail("click","Clicked on the add transaction type button.")},showAddClientTypeModal(){this.$refs.addClientTypeModal.showModal(!1),this.createAuditTrail("click","Clicked on the add client type button.")},showAddOrganizationModal(){this.$refs.addOrganizationModal.showModal(!1),this.createAuditTrail("click","Clicked on the add organization button.")},showAddStateModal(){this.$refs.addStateModal.showModal(!1),this.createAuditTrail("click","Clicked on the add state button.")},showAddCityModal(){this.$refs.addCityModal.showModal(!1),this.createAuditTrail("click","Clicked on the add city button.")},createAuditTrail(t,e){let d={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")d.activity=e;else{let l="";this.activeKey==1?l="transaction type":this.activeKey==2?l="client type":this.activeKey==3?l="organizations":this.activeKey==4?l="states":this.activeKey==5?l="cities":l="miscellaneous",d.activity=`Clicked on the ${l} tab button.`}z.post("/audit-trail/store",d,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(l=>{console.log(l.data.message)}).catch(l=>{console.error(l.response.data.message)})}}}),gt=t=>(Y("data-v-4511aad8"),t=t(),j(),t),Bs={class:"view-container"},Es={class:"action-container"},Ms={class:"action-container"},Ls=gt(()=>a("span",{class:"btn-text"},"Add Client Type",-1)),Ks={class:"action-container"},Rs=gt(()=>a("span",{class:"btn-text"},"Add Organization",-1)),Ns={class:"action-container"},Vs=gt(()=>a("span",{class:"btn-text"},"Add State",-1)),qs={class:"action-container"},Ys=gt(()=>a("span",{class:"btn-text"},"Add City",-1));function js(t,e,d,l,v,b){const _=s("a-button"),u=s("TransactionList"),k=s("a-tab-pane"),T=s("ClientTypeList"),m=s("OrganizationList"),P=s("StateList"),f=s("CityList"),L=s("a-tabs"),K=s("AddTransactionType"),R=s("AddClientType"),N=s("AddOrganization"),V=s("AddState"),q=s("AddCity"),w=s("AdminLayout");return p(),M(w,{defaultKey:"11-3",preOpenKey:"11"},{default:i(()=>[a("h1",null,U(t.title),1),a("div",Bs,[n(L,{activeKey:t.activeKey,"onUpdate:activeKey":e[0]||(e[0]=A=>t.activeKey=A),size:"large",type:"card",change:t.createAuditTrail("tab")},{default:i(()=>[n(k,{key:"1",tab:"Transaction Type"},{default:i(()=>[a("div",Es,[n(_,{size:"large",type:"primary",onClick:t.showAddTransactionTypeModal,class:"custom-add"},{default:i(()=>[c(" Add Transaction Type ")]),_:1},8,["onClick"])]),n(u)]),_:1}),n(k,{key:"2",tab:"Client Type"},{default:i(()=>[a("div",Ms,[n(_,{type:"primary",onClick:t.showAddClientTypeModal,class:"custom-add"},{default:i(()=>[Ls]),_:1},8,["onClick"])]),n(T)]),_:1}),n(k,{key:"3",tab:"Organizations"},{default:i(()=>[a("div",Ks,[n(_,{type:"primary",onClick:t.showAddOrganizationModal,class:"custom-add"},{default:i(()=>[Rs]),_:1},8,["onClick"])]),n(m)]),_:1}),n(k,{key:"4",tab:"States"},{default:i(()=>[a("div",Ns,[n(_,{type:"primary",onClick:t.showAddStateModal,class:"custom-add"},{default:i(()=>[Vs]),_:1},8,["onClick"])]),n(P)]),_:1}),n(k,{key:"5",tab:"Cities"},{default:i(()=>[a("div",qs,[n(_,{type:"primary",onClick:t.showAddCityModal,class:"custom-add"},{default:i(()=>[Ys]),_:1},8,["onClick"])]),n(f)]),_:1})]),_:1},8,["activeKey","change"])]),n(K,{ref:"addTransactionTypeModal"},null,512),n(R,{ref:"addClientTypeModal"},null,512),n(N,{ref:"addOrganizationModal"},null,512),n(V,{ref:"addStateModal"},null,512),n(q,{ref:"addCityModal"},null,512)]),_:1})}const Zs=B(Is,[["render",js],["__scopeId","data-v-4511aad8"]]);export{Zs as default};
