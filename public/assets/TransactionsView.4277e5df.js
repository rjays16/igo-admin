import{A as kt}from"./AdminLayout.0d5938d1.js";import{c as n,A as $t,d as U,x as Z,y as x,r as F,j as O,m as D,_ as M,f as s,o as f,a as v,e as a,t as z,w as o,k as d,H as w,I as A,z as T,B as p,h as $,F as K,G as tt,g as N,p as j,b as q,q as et,s as nt,D as at,P as Ct,C as Tt,u as wt,v as At}from"./index.55602709.js";import{S as st,a as ot,C as lt,b as it}from"./StepForwardFilled.aeb20f22.js";import{I as St,M as Dt}from"./MinusOutlined.8e87cc1a.js";import{E as Pt,F as Ot,a as Ft}from"./FilePdfOutlined.6971e916.js";import{F as Et,a as It}from"./FormOutlined.ecf51683.js";var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};const Ut=zt;function X(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},_=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(_=_.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),_.forEach(function(r){Mt(t,r,i[r])})}return t}function Mt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var J=function(e,i){var _=X({},e,i.attrs);return n($t,X({},_,{icon:Ut}),null)};J.displayName="StopOutlined";J.inheritAttrs=!1;const Bt=J;const Lt=U({components:{CaretUpOutlined:Z,CaretDownOutlined:x,StepBackwardFilled:st,StepForwardFilled:ot,CaretLeftFilled:lt,CaretRightFilled:it},setup(){const t=F([{title:"ID",dataIndex:"id",key:"id",width:100,resizable:!0},{title:"Account ID",dataIndex:"account_id",key:"account_id",width:120,resizable:!0},{title:"Account Description",dataIndex:"acct_description",key:"acct_description",width:150,resizable:!0},{title:"Effective Date",dataIndex:"effective_date",key:"effective_date",width:120,resizable:!0},{title:"Transaction Type",dataIndex:"trans_type",key:"trans_type",width:150,resizable:!0},{title:"Memo",dataIndex:"memo",key:"memo",width:200,resizable:!0},{title:"Amount",dataIndex:"amount",key:"amount",width:150,resizable:!0},{title:"Entry Date",dataIndex:"entry_date",key:"entry_date",width:120,resizable:!0}]);return{data:[],columns:t,handleResizeColumn:(i,_)=>{_.width=i}}},data(){return{transaction_list:[],transaction_pagination:{meta:{to:1},links:{next:null}},balance_per_vault:0,loading:!1,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_activatewildcard:!1,filter_id:null,filter_account_id:null,filter_acct_description:null,filter_effective_date:null,filter_trans_type:null,filter_memo:null,filter_amount:null,filter_entry_date:null,filter_created_at:null,sort_id:0,sort_account_id:0,sort_acct_description:0,sort_effective_date:0,sort_trans_type:0,sort_memo:0,sort_amount:0,sort_entry_date:0,sort_created_at:0,export_to:""}}},methods:{getTransactions(t){this.account_id=t,this.form.per_page=this.pageSize,this.getTransactionsByParams()},getTransactionsByParams(){this.loading=!0,this.form.export_to="",O.post(`/transaction/previous/${this.account_id}`,this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.transaction_list=e.data,this.transaction_pagination=e,this.balance_per_vault=e.balance_per_vault,this.loading=!1,D.success(e.message)}).catch(t=>{console.error(t),this.transaction_list=[],this.transaction_pagination={meta:{total:0},links:{next:null}},this.loading=!1,D.error(t.response.data.message)})},searchTransactions(){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getTransactionsByParams()},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getTransactionsByParams()},toFirstPage(){this.searchTransactions()},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getTransactionsByParams()},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getTransactionsByParams()},toLastPage(){this.current=this.transaction_pagination.meta.to,this.form.page=this.current,this.getTransactionsByParams()},changeColumnSort(t){this.form[t]=this.form[t]+1,this.form[t]==3&&(this.form[t]=0),this.searchTransactions()}}}),B=t=>(j("data-v-58cfd2f8"),t=t(),q(),t),Yt={class:"prev-trans-heading"},Vt=B(()=>a("h3",null,"Previous Transaction Made",-1)),Rt={class:"yellow"},Kt={key:0,class:"ant-table-column-sorters"},Nt={class:"ant-table-column-title"},jt=B(()=>a("br",null,null,-1)),qt={class:"ant-table-column-sorter ant-table-column-sorter-full"},Jt={key:1,class:"ant-table-column-sorters"},Gt={class:"ant-table-column-title"},Ht=B(()=>a("br",null,null,-1)),Qt={class:"ant-table-column-sorter ant-table-column-sorter-full"},Wt={key:2,class:"ant-table-column-sorters"},Xt={class:"ant-table-column-title"},Zt=B(()=>a("br",null,null,-1)),xt={class:"ant-table-column-sorter ant-table-column-sorter-full"},te={key:3,class:"ant-table-column-sorters"},ee={class:"ant-table-column-title"},ne=B(()=>a("br",null,null,-1)),ae={class:"ant-table-column-sorter ant-table-column-sorter-full"},se={key:4,class:"ant-table-column-sorters"},oe={class:"ant-table-column-title"},le=B(()=>a("br",null,null,-1)),ie={class:"ant-table-column-sorter ant-table-column-sorter-full"},re={key:5,class:"ant-table-column-sorters"},de={class:"ant-table-column-title"},ce=B(()=>a("br",null,null,-1)),ue={class:"ant-table-column-sorter ant-table-column-sorter-full"},pe={key:6,class:"ant-table-column-sorters"},me={class:"ant-table-column-title"},_e=B(()=>a("br",null,null,-1)),fe={class:"ant-table-column-sorter ant-table-column-sorter-full"},he={key:7,class:"ant-table-column-sorters"},ge={class:"ant-table-column-title"},be=B(()=>a("br",null,null,-1)),ve={class:"ant-table-column-sorter ant-table-column-sorter-full"},ye={key:0},ke={class:"pagination mt-3"},$e={class:"pagination-list lst-none p-0 d-inline-flex w-100"},Ce=["disabled"],Te=["disabled"],we={class:"d-inline-block mr-2"},Ae=B(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),Se=["disabled"],De={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"};function Pe(t,e,i,_,r,C){const h=s("CaretUpOutlined"),u=s("CaretDownOutlined"),g=s("a-table"),k=s("StepBackwardFilled"),y=s("CaretLeftFilled"),S=s("a-input-number"),P=s("CaretRightFilled"),I=s("StepForwardFilled"),R=s("a-select-option"),L=s("a-select");return f(),v(K,null,[a("div",Yt,[Vt,a("h3",Rt,"Balance Per Vault: "+z(t.balance_per_vault),1)]),n(g,{sticky:"",columns:t.columns,"data-source":t.transaction_list,size:"small",onResizeColumn:t.handleResizeColumn,scroll:{x:800,y:200},"row-class-name":(b,l)=>l%2===1?"table-striped":null,pagination:!1,loading:t.loading},{headerCell:o(({column:b})=>[b.key==="id"?(f(),v("div",Kt,[a("span",Nt,[d("Transaction ID"),jt,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>t.form.filter_id=l),onKeypress:e[1]||(e[1]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_id]])]),a("span",qt,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[2]||(e[2]=l=>t.changeColumnSort("sort_id"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="account_id"?(f(),v("div",Jt,[a("span",Gt,[d("Account ID"),Ht,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>t.form.filter_account_id=l),onKeypress:e[4]||(e[4]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_account_id]])]),a("span",Qt,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[5]||(e[5]=l=>t.changeColumnSort("sort_account_id"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_account_id==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_account_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="acct_description"?(f(),v("div",Wt,[a("span",Xt,[d("Account Description"),Zt,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>t.form.filter_acct_description=l),onKeypress:e[7]||(e[7]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_acct_description]])]),a("span",xt,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[8]||(e[8]=l=>t.changeColumnSort("sort_acct_description"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_acct_description==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_acct_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="effective_date"?(f(),v("div",te,[a("span",ee,[d("Effective Date"),ne,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>t.form.filter_effective_date=l),onKeypress:e[10]||(e[10]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_effective_date]])]),a("span",ae,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[11]||(e[11]=l=>t.changeColumnSort("sort_effective_date"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_effective_date==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_effective_date!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="trans_type"?(f(),v("div",se,[a("span",oe,[d("Transaction Type"),le,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[12]||(e[12]=l=>t.form.filter_trans_type=l),onKeypress:e[13]||(e[13]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_trans_type]])]),a("span",ie,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[14]||(e[14]=l=>t.changeColumnSort("sort_trans_type"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_trans_type==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_trans_type!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="memo"?(f(),v("div",re,[a("span",de,[d("Transaction Type"),ce,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[15]||(e[15]=l=>t.form.filter_memo=l),onKeypress:e[16]||(e[16]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_memo]])]),a("span",ue,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[17]||(e[17]=l=>t.changeColumnSort("sort_memo"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_memo==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_memo!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="amount"?(f(),v("div",pe,[a("span",me,[d("Amount"),_e,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[18]||(e[18]=l=>t.form.filter_amount=l),onKeypress:e[19]||(e[19]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_amount]])]),a("span",fe,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[20]||(e[20]=l=>t.changeColumnSort("sort_amount"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_amount==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_amount!=2?"":"active"])},null,8,["class"])])])])):$("",!0),b.key==="entry_date"?(f(),v("div",he,[a("span",ge,[d("Entry Date"),be,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[21]||(e[21]=l=>t.form.filter_entry_date=l),onKeypress:e[22]||(e[22]=T(l=>t.searchTransactions(),["enter"]))},null,544),[[A,t.form.filter_entry_date]])]),a("span",ve,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[23]||(e[23]=l=>t.changeColumnSort("sort_entry_date"))},[n(h,{class:p(["ant-table-column-sorter-up",t.form.sort_entry_date==1?"active":""])},null,8,["class"]),n(u,{class:p(["ant-table-column-sorter-down",t.form.sort_entry_date!=2?"":"active"])},null,8,["class"])])])])):$("",!0)]),bodyCell:o(({column:b,text:l})=>[b.dataIndex==="name"?(f(),v("a",ye,z(l),1)):$("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),a("div",ke,[a("ul",$e,[a("li",{title:"First Page",class:p(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[24]||(e[24]=(...b)=>t.toFirstPage&&t.toFirstPage(...b)),disabled:t.form.page==1},[n(k)],8,Ce)],2),a("li",{class:p(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[25]||(e[25]=(...b)=>t.toPreviousPage&&t.toPreviousPage(...b)),disabled:t.form.page==1},[n(y)],8,Te)],2),a("li",we,[Ae,n(S,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[26]||(e[26]=b=>t.current=b),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:p(["ant-pagination-next mr-2",t.transaction_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[27]||(e[27]=(...b)=>t.toNextPage&&t.toNextPage(...b)),disabled:!t.transaction_pagination.links.next},[n(P)],8,Se)],2),a("li",De,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[28]||(e[28]=(...b)=>t.toLastPage&&t.toLastPage(...b)),disabled:""},[n(I)])]),n(L,{value:t.pageSize,"onUpdate:value":e[29]||(e[29]=b=>t.pageSize=b),onChange:t.onPageChange},{default:o(()=>[(f(!0),v(K,null,tt(t.page_sizes,(b,l)=>(f(),N(R,{value:b,key:l},{default:o(()=>[d(z(b+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])],64)}const rt=M(Lt,[["render",Pe],["__scopeId","data-v-58cfd2f8"]]);const Oe=U({components:{PrevTransactions:rt},setup(){const t=F(!1),e=F(!1),i=et({effective_date:null,amount:null,memo:null,entry_date:null});return{visible:e,AddEditformState:i,onFinish:u=>{console.log("Success:",u)},onFinishFailed:u=>{console.log("Failed:",u)},handleCancel:()=>{e.value=!1},handleOk:()=>{e.value=!1},loading:t}},data(){return{accounts:[],transaction_types:[],account_id:null,acct_description:null,trans_type_id:null,trans_type:null,options_size:parseInt("5000")}},methods:{showModal(t){this.transaction_id=t,this.visible=!0,this.getAccounts()},getTransaction(){O.post(`/transaction/show/${this.transaction_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data.data;this.AddEditformState.effective_date=e.effective_date,this.AddEditformState.amount=e.amount,this.AddEditformState.memo=e.memo,this.AddEditformState.entry_date=e.entry_date,this.AddEditformState.account_id=this.account_id=e.account_id,this.AddEditformState.acct_description=this.acct_description=e.acct_description,this.AddEditformState.trans_type_id=this.trans_type_id=e.trans_type_id,this.AddEditformState.trans_type=this.trans_type=e.trans_type,this.$refs.prevTransactionsTable.getTransactions(e.account_id)}).catch(t=>{console.error(t),D.error(t.response.data.message),this.visible=!1})},getAccounts(){let t={per_page:this.options_size};O.post("/account",t,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{this.accounts=e.data.data,this.getTransaction(),this.getTransactionTypes()}).catch(e=>{console.error(e.response.data.message),this.accounts=[]})},getTransactionTypes(){let t={per_page:this.options_size};O.post("/transaction-type",t,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{this.transaction_types=e.data.data}).catch(e=>{console.error(e.response.data.message),this.transaction_types=[]})},submit(){this.loading=!0,O.post(`/transaction/update/${this.transaction_id}`,nt(this.AddEditformState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{D.success(t.data.message),this.visible=!1,this.loading=!1,this.$parent.getTransactions()}).catch(t=>{D.error(t.response.data.message),this.loading=!1})},filterOptions(t,e){var i;return((i=e==null?void 0:e.label)!=null?i:"").toLowerCase().includes(t.toLowerCase())},handleAccountChange(t){this.AddEditformState.account_id=t.value,this.AddEditformState.acct_description=t.label,this.$refs.prevTransactionsTable.getTransactions(t.value)},handleTransactionTypeChange(t){this.AddEditformState.trans_type_id=t.value,this.AddEditformState.trans_type=t.label}}});function Fe(t,e,i,_,r,C){const h=s("a-select"),u=s("a-form-item"),g=s("a-col"),k=s("a-date-picker"),y=s("a-row"),S=s("a-input"),P=s("a-textarea"),I=s("a-button"),R=s("a-form"),L=s("PrevTransactions"),b=s("a-modal");return f(),v("div",null,[n(b,{visible:t.visible,"onUpdate:visible":e[6]||(e[6]=l=>t.visible=l),title:"Update Transaction Record","ok-text":"Update",width:"1000px",centered:"",footer:null,"cancel-text":"Cancel"},{default:o(()=>[n(R,{model:t.AddEditformState,name:"basic",layout:"vertical",autocomplete:"off",onFinish:t.onFinish,onFinishFailed:t.onFinishFailed},{default:o(()=>[n(y,{gutter:24},{default:o(()=>[n(g,{span:12},{default:o(()=>[n(u,{label:"Account",name:"account_id","has-feedback":"",rules:[{required:!0,message:"Please select the account."}]},{default:o(()=>[n(h,{placeholder:"Select Account",value:t.account_id,"onUpdate:value":e[0]||(e[0]=l=>t.account_id=l),showSearch:"",optionFilterProp:"children",options:t.accounts,filterOption:t.filterOptions,"label-in-value":"",onChange:t.handleAccountChange},null,8,["value","options","filterOption","onChange"])]),_:1},8,["rules"])]),_:1}),n(g,{span:12},{default:o(()=>[n(u,{label:"Effective Date",name:"effective_date",rules:[{required:!0,message:"Please select the effective date."}]},{default:o(()=>[n(k,{value:t.AddEditformState.effective_date,"onUpdate:value":e[1]||(e[1]=l=>t.AddEditformState.effective_date=l),format:"YYYY/MM/DD",valueFormat:"YYYY/MM/DD"},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(y,{gutter:24},{default:o(()=>[n(g,{span:12},{default:o(()=>[n(u,{label:"Transaction Type",name:"trans_type_id","has-feedback":"",rules:[{required:!0,message:"Please select the Transaction Type."}]},{default:o(()=>[n(h,{placeholder:"Select Transaction Type",value:t.trans_type_id,"onUpdate:value":e[2]||(e[2]=l=>t.trans_type_id=l),showSearch:"",optionFilterProp:"children",options:t.transaction_types,filterOption:t.filterOptions,"label-in-value":"",onChange:t.handleTransactionTypeChange},null,8,["value","options","filterOption","onChange"])]),_:1},8,["rules"])]),_:1}),n(g,{span:12},{default:o(()=>[n(u,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input the amount."}]},{default:o(()=>[n(S,{value:t.AddEditformState.amount,"onUpdate:value":e[3]||(e[3]=l=>t.AddEditformState.amount=l)},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(y,{gutter:24},{default:o(()=>[n(g,{span:12},{default:o(()=>[n(u,{label:"Entry Date",name:"entry_date",rules:[{required:!0,message:"Please select the entry date."}]},{default:o(()=>[n(k,{value:t.AddEditformState.entry_date,"onUpdate:value":e[4]||(e[4]=l=>t.AddEditformState.entry_date=l),format:"YYYY/MM/DD",valueFormat:"YYYY/MM/DD"},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(y,{gutter:24},{default:o(()=>[n(g,{span:24},{default:o(()=>[n(u,{label:"Memo",name:"memo",rules:[{required:!0,message:"Please input the memo."}]},{default:o(()=>[n(P,{value:t.AddEditformState.memo,"onUpdate:value":e[5]||(e[5]=l=>t.AddEditformState.memo=l),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(y,{gutter:24},{default:o(()=>[n(g,{span:8,class:"justify-end"},{default:o(()=>[n(u,null,{default:o(()=>[n(I,{type:"warning","html-type":"submit",onClick:t.handleCancel},{default:o(()=>[d("Cancel")]),_:1},8,["onClick"]),n(I,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:o(()=>[d("Update")]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","onFinish","onFinishFailed"]),n(L,{ref:"prevTransactionsTable"},null,512)]),_:1},8,["visible"])])}const Ee=M(Oe,[["render",Fe],["__scopeId","data-v-6ab74d13"]]);const Ie=U({props:["transaction_id","acct_description"],components:{DeleteOutlined:at},setup(){const t=F(!1),e=F(!0),i=F(!1);return{visible:i,handleCancel:()=>{i.value=!1},handleOk:C=>{t.value=!0,setTimeout(()=>{t.value=!1,i.value=!1},1e3)},loading:t,disabled:e}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,O.delete(`/transaction/delete/${this.transaction_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{D.success(t.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(t=>{console.error(t),D.error(t.response.data.message),this.loading=!1,this.disabled=!1})}}}),G=t=>(j("data-v-b2fa1289"),t=t(),q(),t),ze=G(()=>a("h3",null,"Are you sure you want to delete this record?",-1)),Ue={class:"delete-container"},Me=G(()=>a("br",null,null,-1)),Be=G(()=>a("p",null,[d("Type "),a("strong",null,'"YES DELETE"'),d(".")],-1));function Le(t,e,i,_,r,C){const h=s("DeleteOutlined"),u=s("a-input"),g=s("a-button"),k=s("a-modal");return f(),v("div",null,[n(h,{onClick:t.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),n(k,{visible:t.visible,"onUpdate:visible":e[2]||(e[2]=y=>t.visible=y),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{footer:o(()=>[n(g,{key:"back",onClick:t.handleCancel},{default:o(()=>[d("Cancel")]),_:1},8,["onClick"]),n(g,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.disabled,onClick:t.submit},{default:o(()=>[d(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:o(()=>[ze,a("div",Ue,[a("p",null,[a("strong",null,[d("Transaction ID: "+z(t.transaction_id),1),Me,d(" Account Description: "+z(t.acct_description),1)])]),n(u,{value:t.confirmation_input,"onUpdate:value":e[0]||(e[0]=y=>t.confirmation_input=y),onInput:e[1]||(e[1]=y=>t.checkText())},null,8,["value"]),Be])]),_:1},8,["visible","onOk"])])}const Ye=M(Ie,[["render",Le],["__scopeId","data-v-b2fa1289"]]);const Ve=U({components:{StopOutlined:Bt},setup(){const t=F(!1);return{visible:t,showModal:()=>{t.value=!0},handleOk:_=>{console.log(_),t.value=!1}}}}),H=t=>(j("data-v-7b3278ed"),t=t(),q(),t),Re=H(()=>a("h3",null,"Are you sure you want to Null this record?",-1)),Ke={class:"delete-container"},Ne=H(()=>a("p",null,[a("strong",null,[d("Trans. ID: 1101"),a("br"),d(" Account Description: Althea Marie Avila")])],-1)),je=H(()=>a("p",null,[d("Type "),a("strong",null,'"NULL"'),d(".")],-1));function qe(t,e,i,_,r,C){const h=s("StopOutlined"),u=s("a-input"),g=s("a-modal");return f(),v("div",null,[n(h,{onClick:t.showModal,style:{"font-size":"large",color:"grey","padding-right":"10px"}},null,8,["onClick"]),n(g,{visible:t.visible,"onUpdate:visible":e[0]||(e[0]=k=>t.visible=k),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{default:o(()=>[Re,a("div",Ke,[Ne,n(u),je])]),_:1},8,["visible","onOk"])])}const Je=M(Ve,[["render",qe],["__scopeId","data-v-7b3278ed"]]);const Ge=U({components:{PrevTransactions:rt},setup(){const t=F(!1),e=F(!1),i=()=>{e.value=!0},_=et({effective_date:null,amount:null,memo:null,entry_date:null});return{visible:e,showModal:i,AddEditformState:_,onFinish:g=>{console.log("Success:",g)},onFinishFailed:g=>{console.log("Failed:",g)},handleCancel:()=>{e.value=!1},handleOk:()=>{e.value=!1},loading:t}},data(){return{accounts:[],transaction_types:[],account_id:null,acct_description:null,trans_type_id:null,trans_type:null,options_size:parseInt("5000")}},methods:{getAccounts(){let t={per_page:this.options_size};O.post("/account",t,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{this.accounts=e.data.data}).catch(e=>{console.error(e.response.data.message),this.accounts=[]})},getTransactionTypes(){let t={per_page:this.options_size};O.post("/transaction-type",t,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{this.transaction_types=e.data.data}).catch(e=>{console.error(e.response.data.message),this.transaction_types=[]})},submit(){this.loading=!0,O.post("/transaction/store",nt(this.AddEditformState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{D.success(t.data.message),this.visible=!1,this.loading=!1}).catch(t=>{D.error(t.response.data.message),this.loading=!1})},filterOptions(t,e){var i;return((i=e==null?void 0:e.label)!=null?i:"").toLowerCase().includes(t.toLowerCase())},handleAccountChange(t){this.AddEditformState.account_id=t.value,this.AddEditformState.acct_description=t.label,this.$refs.prevTransactionsTable.getTransactions(t.value)},handleTransactionTypeChange(t){this.AddEditformState.trans_type_id=t.value,this.AddEditformState.trans_type=t.label}},mounted(){this.getAccounts(),this.getTransactionTypes()}});function He(t,e,i,_,r,C){const h=s("a-button"),u=s("a-select"),g=s("a-form-item"),k=s("a-col"),y=s("a-date-picker"),S=s("a-row"),P=s("a-input"),I=s("a-textarea"),R=s("a-form"),L=s("PrevTransactions"),b=s("a-modal");return f(),v("div",null,[n(h,{size:"large",type:"primary",onClick:t.showModal},{default:o(()=>[d("Add Transaction")]),_:1},8,["onClick"]),n(b,{visible:t.visible,"onUpdate:visible":e[6]||(e[6]=l=>t.visible=l),title:"Add Transaction","ok-text":"Save",width:"1000px",centered:"",footer:null,"cancel-text":"Cancel"},{default:o(()=>[n(R,{model:t.AddEditformState,name:"basic",layout:"vertical",autocomplete:"off",onFinish:t.onFinish,onFinishFailed:t.onFinishFailed},{default:o(()=>[n(S,{gutter:24},{default:o(()=>[n(k,{span:12},{default:o(()=>[n(g,{label:"Account",name:"account_id","has-feedback":"",rules:[{required:!0,message:"Please select the account."}]},{default:o(()=>[n(u,{placeholder:"Select Account",value:t.account_id,"onUpdate:value":e[0]||(e[0]=l=>t.account_id=l),showSearch:"",optionFilterProp:"children",options:t.accounts,filterOption:t.filterOptions,"label-in-value":"",onChange:t.handleAccountChange},null,8,["value","options","filterOption","onChange"])]),_:1},8,["rules"])]),_:1}),n(k,{span:12},{default:o(()=>[n(g,{label:"Effective Date",name:"effective_date",rules:[{required:!0,message:"Please select the effective date."}]},{default:o(()=>[n(y,{value:t.AddEditformState.effective_date,"onUpdate:value":e[1]||(e[1]=l=>t.AddEditformState.effective_date=l),format:"YYYY/MM/DD",valueFormat:"YYYY/MM/DD"},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(S,{gutter:24},{default:o(()=>[n(k,{span:12},{default:o(()=>[n(g,{label:"Transaction Type",name:"trans_type_id","has-feedback":"",rules:[{required:!0,message:"Please select the Transaction Type."}]},{default:o(()=>[n(u,{placeholder:"Select Transaction Type",value:t.trans_type_id,"onUpdate:value":e[2]||(e[2]=l=>t.trans_type_id=l),showSearch:"",optionFilterProp:"children",options:t.transaction_types,filterOption:t.filterOptions,"label-in-value":"",onChange:t.handleTransactionTypeChange},null,8,["value","options","filterOption","onChange"])]),_:1},8,["rules"])]),_:1}),n(k,{span:12},{default:o(()=>[n(g,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input the amount."}]},{default:o(()=>[n(P,{value:t.AddEditformState.amount,"onUpdate:value":e[3]||(e[3]=l=>t.AddEditformState.amount=l)},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(S,{gutter:24},{default:o(()=>[n(k,{span:12},{default:o(()=>[n(g,{label:"Entry Date",name:"entry_date",rules:[{required:!0,message:"Please select the entry date."}]},{default:o(()=>[n(y,{value:t.AddEditformState.entry_date,"onUpdate:value":e[4]||(e[4]=l=>t.AddEditformState.entry_date=l),format:"YYYY/MM/DD",valueFormat:"YYYY/MM/DD"},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(S,{gutter:24},{default:o(()=>[n(k,{span:24},{default:o(()=>[n(g,{label:"Memo",name:"memo",rules:[{required:!0,message:"Please input the memo."}]},{default:o(()=>[n(I,{value:t.AddEditformState.memo,"onUpdate:value":e[5]||(e[5]=l=>t.AddEditformState.memo=l),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),n(S,{gutter:24},{default:o(()=>[n(k,{span:8,class:"justify-end"},{default:o(()=>[n(g,null,{default:o(()=>[n(h,{type:"warning","html-type":"submit",onClick:t.handleCancel},{default:o(()=>[d("Cancel")]),_:1},8,["onClick"]),n(h,{key:"submit",type:"primary","html-type":"submit",loading:t.loading,disabled:t.loading,onClick:t.submit},{default:o(()=>[d("Add")]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","onFinish","onFinishFailed"]),n(L,{ref:"prevTransactionsTable"},null,512)]),_:1},8,["visible"])])}const Qe=M(Ge,[["render",He],["__scopeId","data-v-a855c9c2"]]),We=U({components:{InboxOutlined:St},setup(){const t=F(!1);return{visible:t,showModal:()=>{t.value=!0},handleOk:r=>{console.log(r),t.value=!1},handleChange:r=>{const C=r.file.status;C!=="uploading"&&console.log(r.file,r.fileList),C==="done"?D.success(`${r.file.name} file uploaded successfully.`):C==="error"&&D.error(`${r.file.name} file upload failed.`)},fileList:F([]),handleDrop:r=>{console.log(r)}}}}),Xe={class:"ant-upload-drag-icon"},Ze=a("p",{class:"ant-upload-text"},"Click or drag file to this area to upload",-1),xe=a("p",{class:"ant-upload-hint"}," Support for a single upload. Strictly prohibit from uploading company data or other band files ",-1);function tn(t,e,i,_,r,C){const h=s("a-button"),u=s("inbox-outlined"),g=s("a-upload-dragger"),k=s("a-modal");return f(),v("div",null,[n(h,{size:"large",type:"primary",onClick:t.showModal},{default:o(()=>[d("Import Data")]),_:1},8,["onClick"]),n(k,{visible:t.visible,"onUpdate:visible":e[1]||(e[1]=y=>t.visible=y),title:"Import Transaction","ok-text":"Upload",centered:"","cancel-text":"Cancel",onOk:t.handleOk},{default:o(()=>[n(g,{fileList:t.fileList,"onUpdate:fileList":e[0]||(e[0]=y=>t.fileList=y),name:"file",multiple:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:t.handleChange,onDrop:t.handleDrop},{default:o(()=>[a("p",Xe,[n(u)]),Ze,xe]),_:1},8,["fileList","onChange","onDrop"])]),_:1},8,["visible","onOk"])])}const en=M(We,[["render",tn]]);const nn=[{title:"Account ID",dataIndex:"acctid",width:100},{title:"Account Description",dataIndex:"acctdes"},{title:"Effective Date",dataIndex:"effdate"},{title:"TxType",dataIndex:"txtype",width:100},{title:"Memo",dataIndex:"memo"},{title:"Amount",dataIndex:"amount"},{title:"Entry Date",dataIndex:"entrydate",width:100},{title:"Action",dataIndex:"action",fixed:"right",width:60}],an=[{key:"1",acctid:"001",acctdes:"Lindsey, Alan (loan 1)",effdate:"10-11-2021",txtype:"DEP",memo:"Your memo here",amount:"200.00",entrydate:"10-11-2021"},{key:"2",acctid:"001",acctdes:"Lindsey, Alan (loan 1)",effdate:"10-11-2021",txtype:"DEP",memo:"Your memo here",amount:"200.00",entrydate:"10-11-2021"},{key:"3",acctid:"001",acctdes:"Lindsey, Alan (loan 1)",effdate:"10-11-2021",txtype:"DEP",memo:"Your memo here",amount:"200.00",entrydate:"10-11-2021"},{key:"4",acctid:"001",acctdes:"Lindsey, Alan (loan 1)",effdate:"10-11-2021",txtype:"DEP",memo:"Your memo here",amount:"200.00",entrydate:"10-11-2021"}],sn=U({components:{PlusOutlined:Ct,MinusOutlined:Dt,CloseOutlined:Tt},setup(){const t={onChange:(r,C)=>{console.log(`selectedRowKeys: ${r}`,"selectedRows: ",C)},getCheckboxProps:r=>({disabled:r.name==="Disabled User",name:r.name})},e=F(!1);return{visible:e,showModal:()=>{e.value=!0},handleOk:r=>{console.log(r),e.value=!1},columns:nn,data:an,rowSelection:t}}}),on=t=>(j("data-v-9715855b"),t=t(),q(),t),ln=on(()=>a("p",{class:"note"},"You may copy and paste your data from excel or any spreadsheet files here and it will automatically show in the table below. To edit the content of each cell just click on it and enter new values. To add new row just click (+) button. To remove a row just click on its (x) button at the right. To remove multiple rows just check those rows and click (-) button.",-1)),rn={class:"addbulk-container"},dn={class:"addbulk-action"};function cn(t,e,i,_,r,C){const h=s("a-button"),u=s("plus-outlined"),g=s("minus-outlined"),k=s("CloseOutlined"),y=s("a-table"),S=s("a-modal");return f(),v("div",null,[n(h,{size:"large",type:"primary",onClick:t.showModal},{default:o(()=>[d("Add Bulk")]),_:1},8,["onClick"]),n(S,{visible:t.visible,"onUpdate:visible":e[0]||(e[0]=P=>t.visible=P),title:"Add Bulk Transactions","ok-text":"Add",centered:"","cancel-text":"Cancel",width:"1200px",class:"addbulkmodal",bodyStyle:"padding: 0;",onOk:t.handleOk},{default:o(()=>[ln,a("div",rn,[a("div",dn,[n(h,{type:"primary"},{default:o(()=>[d("Paste")]),_:1}),n(h,{type:"primary"},{icon:o(()=>[n(u)]),_:1}),n(h,{type:"danger"},{icon:o(()=>[n(g)]),_:1})]),n(y,{"row-selection":t.rowSelection,columns:t.columns,"data-source":t.data,scroll:{y:400},size:"small",pagination:!1},{bodyCell:o(({column:P})=>[P.dataIndex==="action"?(f(),N(k,{key:0,style:{color:"red","margin-left":"10px"}})):$("",!0)]),_:1},8,["row-selection","columns","data-source"])])]),_:1},8,["visible","onOk"])])}const un=M(sn,[["render",cn],["__scopeId","data-v-9715855b"]]);const pn=U({components:{ExportOutlined:Pt,FileExcelOutlined:Ot,FileOutlined:wt,FilePdfOutlined:Ft},methods:{exportTo(t){let e=this.$parent.form;e.export_to=t.key,O.post("/transaction",e,{responseType:"blob",headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(i=>{D.success("Successfully exported data.");const _=URL.createObjectURL(new Blob([i.data])),r=document.createElement("a");r.href=_,r.setAttribute("download","transactions."+t.key),document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(i=>{console.error(i),D.error(i.response.data.message)})}}}),mn={class:"export-dropdown-wrap"};function _n(t,e,i,_,r,C){const h=s("FileExcelOutlined"),u=s("a-menu-item"),g=s("FileOutlined"),k=s("FilePdfOutlined"),y=s("a-menu"),S=s("ExportOutlined"),P=s("a-button"),I=s("a-dropdown");return f(),v("div",mn,[n(I,{trigger:["click"]},{overlay:o(()=>[n(y,{onClick:t.exportTo},{default:o(()=>[n(u,{key:"xlsx"},{default:o(()=>[n(h),d(" Excel File ")]),_:1}),n(u,{key:"csv"},{default:o(()=>[n(g),d(" CSV File ")]),_:1}),n(u,{key:"pdf"},{default:o(()=>[n(k),d(" PDF File ")]),_:1})]),_:1},8,["onClick"])]),default:o(()=>[n(P,{size:"large"},{default:o(()=>[d(" Export To "),n(S)]),_:1})]),_:1})])}const fn=M(pn,[["render",_n],["__scopeId","data-v-518c6493"]]);const hn=U({components:{FormOutlined:Et,DeleteOutlined:at,FilterOutlined:It,DownOutlined:At,CaretUpOutlined:Z,CaretDownOutlined:x,EditData:Ee,DeleteData:Ye,NullData:Je,StepBackwardFilled:st,StepForwardFilled:ot,CaretLeftFilled:lt,CaretRightFilled:it,AddEdit:Qe,AddBulk:un,ImportData:en,TransactionExport:fn},setup(){const t={onChange:(_,r)=>{console.log(`selectedRowKeys: ${_}`,"selectedRows: ",r)}},e=F([{title:"ID",dataIndex:"id",key:"id",width:150,resizable:!0},{title:"Account ID",dataIndex:"account_id",key:"account_id",width:150,resizable:!0},{title:"Account Description",dataIndex:"acct_description",key:"acct_description",width:300,resizable:!0,ellipsis:!0},{title:"Effective Date",dataIndex:"effective_date",key:"effective_date",width:150,resizable:!0},{title:"Transaction Type",dataIndex:"trans_type",key:"trans_type",width:200,resizable:!0},{title:"Memo",dataIndex:"memo",key:"memo",width:400,resizable:!0,ellipsis:!0},{title:"Amount",dataIndex:"amount",key:"amount",width:200,resizable:!0},{title:"Entry Date",dataIndex:"entry_date",key:"entry_date",width:150,resizable:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:170,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:100}]);return{data:[],columns:e,rowSelection:t,handleResizeColumn:(_,r)=>{r.width=_}}},data(){return{active_records:0,data:[],transaction_list:[],transaction_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_activatewildcard:!1,filter_id:null,filter_account_id:null,filter_acct_description:null,filter_effective_date:null,filter_trans_type:null,filter_memo:null,filter_amount:null,filter_entry_date:null,filter_created_at:null,sort_id:0,sort_account_id:0,sort_acct_description:0,sort_effective_date:0,sort_trans_type:0,sort_memo:0,sort_amount:0,sort_entry_date:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getTransactions(){this.form.per_page=this.pageSize,this.getTransactionsByParams()},getTransactionsByParams(){this.loading=!0,this.form.export_to="",O.post("/transaction",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{let e=t.data;this.transaction_list=e.data,this.transaction_pagination=e,this.loading=!1,D.success(e.message),this.getTransactionsStats()}).catch(t=>{console.error(t),this.transaction_list=[],this.transaction_pagination={meta:{total:0},links:{next:null}},this.loading=!1,D.error(t.response.data.message)})},searchTransactions(t){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getTransactionsByParams(),t&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getTransactionsByParams(),this.scrollToTop()},toFirstPage(){this.searchTransactions(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for transactions.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getTransactionsByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for transactions.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getTransactionsByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for transactions.")},toLastPage(){this.current=this.transaction_pagination.meta.to,this.form.page=this.current,this.getTransactionsByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for transactions.')},changeColumnSort(t,e){this.form[e]=this.form[e]+1,this.form[e]==3&&(this.form[e]=0),this.searchTransactions(),t&&this.createAuditTrail("search")},getTransactionsStats(){O.get("/transaction/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(t=>{this.active_records=t.data.data.active_records}).catch(t=>{console.error(t.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(t){this.$refs.editDataModal.showModal(t),this.createAuditTrail("click","Clicked on the edit transaction button.")},createAuditTrail(t,e=null){let i={user_id:this.user_data.id,pages:this.current_route.fullPath};if(t=="click")i.activity=e;else if(t=="search"){let _="Searched transactions by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let C=_.concat("",this.searched_columns).split(/sort(.*)/s),h=C[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),u=C[0].concat("sort",h).replace(/(^[,\s]+)|([,\s]+$)/g,"");i.activity=u}O.post("/audit-trail/store",i,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(_=>{console.log(_.data.message)}).catch(_=>{console.error(_.response.data.message)})}},mounted(){this.getTransactions()}}),E=t=>(j("data-v-7366d6df"),t=t(),q(),t),gn={class:"action-container"},bn={class:"transaction-filter"},vn={class:"fw-bold"},yn={class:"pagination mt-3 text-right"},kn={class:"d-inline-block"},$n={class:"pagination-list lst-none p-0 d-inline-flex w-100"},Cn=["disabled"],Tn=["disabled"],wn={class:"d-inline-block mr-2"},An=E(()=>a("p",{class:"d-inline-block mr-2"},"page",-1)),Sn=["disabled"],Dn={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},Pn={key:0,class:"ant-table-column-sorters"},On={class:"ant-table-column-title"},Fn=E(()=>a("br",null,null,-1)),En={class:"ant-table-column-sorter ant-table-column-sorter-full"},In={key:1,class:"ant-table-column-sorters"},zn={class:"ant-table-column-title"},Un=E(()=>a("br",null,null,-1)),Mn={class:"ant-table-column-sorter ant-table-column-sorter-full"},Bn={key:2,class:"ant-table-column-sorters"},Ln={class:"ant-table-column-title"},Yn=E(()=>a("br",null,null,-1)),Vn={class:"ant-table-column-sorter ant-table-column-sorter-full"},Rn={key:3,class:"ant-table-column-sorters"},Kn={class:"ant-table-column-title"},Nn=E(()=>a("br",null,null,-1)),jn={class:"ant-table-column-sorter ant-table-column-sorter-full"},qn={key:4,class:"ant-table-column-sorters"},Jn={class:"ant-table-column-title"},Gn=E(()=>a("br",null,null,-1)),Hn={class:"ant-table-column-sorter ant-table-column-sorter-full"},Qn={key:5,class:"ant-table-column-sorters"},Wn={class:"ant-table-column-title"},Xn=E(()=>a("br",null,null,-1)),Zn={class:"ant-table-column-sorter ant-table-column-sorter-full"},xn={key:6,class:"ant-table-column-sorters"},ta={class:"ant-table-column-title"},ea=E(()=>a("br",null,null,-1)),na={class:"ant-table-column-sorter ant-table-column-sorter-full"},aa={key:7,class:"ant-table-column-sorters"},sa={class:"ant-table-column-title"},oa=E(()=>a("br",null,null,-1)),la={class:"ant-table-column-sorter ant-table-column-sorter-full"},ia={key:8,class:"ant-table-column-sorters"},ra={class:"ant-table-column-title"},da=E(()=>a("br",null,null,-1)),ca={class:"ant-table-column-sorter ant-table-column-sorter-full"},ua=E(()=>a("br",null,null,-1)),pa=E(()=>a("br",null,null,-1)),ma={key:0},_a={key:2,class:"d-flex"};function fa(t,e,i,_,r,C){const h=s("AddEdit"),u=s("AddBulk"),g=s("ImportData"),k=s("TransactionExport"),y=s("FilterOutlined"),S=s("a-input"),P=s("a-checkbox"),I=s("a-form-item"),R=s("a-form"),L=s("a-col"),b=s("StepBackwardFilled"),l=s("CaretLeftFilled"),dt=s("a-input-number"),ct=s("CaretRightFilled"),ut=s("StepForwardFilled"),pt=s("a-select-option"),mt=s("a-select"),_t=s("a-row"),Y=s("CaretUpOutlined"),V=s("CaretDownOutlined"),ft=s("a-tag"),ht=s("FormOutlined"),gt=s("NullData"),bt=s("DeleteData"),vt=s("a-table"),yt=s("EditData");return f(),v(K,null,[a("div",gn,[n(h,{onClick:e[0]||(e[0]=m=>t.createAuditTrail("click","Clicked on the add transaction button."))}),n(u,{onClick:e[1]||(e[1]=m=>t.createAuditTrail("click","Clicked on the add bulk transactions button."))}),n(g,{onClick:e[2]||(e[2]=m=>t.createAuditTrail("click","Clicked on the import transactions button."))}),n(k,{onClick:e[3]||(e[3]=m=>t.createAuditTrail("click","Clicked on the export transactions button."))})]),a("div",bn,[n(_t,{gutter:24},{default:o(()=>[n(L,{span:6},{default:o(()=>[n(R,null,{default:o(()=>[n(I,{label:"Filter",name:"transactionfilter"},{default:o(()=>[n(S,{value:t.form.filter_allcolumn,"onUpdate:value":e[4]||(e[4]=m=>t.form.filter_allcolumn=m),onKeypress:e[5]||(e[5]=T(m=>t.searchTransactions(!0),["enter"]))},{prefix:o(()=>[n(y,{class:"site-form-item-icon"})]),_:1},8,["value"]),n(P,{checked:t.form.filter_activatewildcard,"onUpdate:checked":e[6]||(e[6]=m=>t.form.filter_activatewildcard=m)},{default:o(()=>[d("perform subfilter wildcard search")]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1}),n(L,{span:6}),n(L,{span:12,class:"text-right"},{default:o(()=>[a("h3",vn," Overall Total Transaction Records: "+z(t.active_records.toLocaleString()),1),a("div",yn,[a("div",kn,[a("ul",$n,[a("li",{title:"First Page",class:p(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[7]||(e[7]=(...m)=>t.toFirstPage&&t.toFirstPage(...m)),disabled:t.form.page==1},[n(b)],8,Cn)],2),a("li",{class:p(["ant-pagination-prev",t.form.page==1?"ant-pagination-disabled":""])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[8]||(e[8]=(...m)=>t.toPreviousPage&&t.toPreviousPage(...m)),disabled:t.form.page==1},[n(l)],8,Tn)],2),a("li",wn,[An,n(dt,{class:"d-inline-block text-center page-number",value:t.current,"onUpdate:value":e[9]||(e[9]=m=>t.current=m),min:1,onChange:t.onPageChange,onPressEnter:t.onPageChange},null,8,["value","onChange","onPressEnter"])]),a("li",{class:p(["ant-pagination-next mr-2",t.transaction_pagination.links.next?"":"ant-pagination-disabled"])},[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[10]||(e[10]=(...m)=>t.toNextPage&&t.toNextPage(...m)),disabled:!t.transaction_pagination.links.next},[n(ct)],8,Sn)],2),a("li",Dn,[a("button",{class:"ant-pagination-item-link",type:"button",onClick:e[11]||(e[11]=(...m)=>t.toLastPage&&t.toLastPage(...m)),disabled:""},[n(ut)])]),n(mt,{value:t.pageSize,"onUpdate:value":e[12]||(e[12]=m=>t.pageSize=m),onChange:t.onPageChange},{default:o(()=>[(f(!0),v(K,null,tt(t.page_sizes,(m,c)=>(f(),N(pt,{value:m,key:c},{default:o(()=>[d(z(m+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),n(vt,{sticky:"","row-selection":t.rowSelection,columns:t.columns,"data-source":t.transaction_list,onResizeColumn:t.handleResizeColumn,scroll:{x:1800},"row-class-name":(m,c)=>c%2===1?"table-striped":null,pagination:!1,loading:t.loading,size:"small"},{headerCell:o(({column:m})=>[m.key==="id"?(f(),v("div",Pn,[a("span",On,[d("Transaction ID"),Fn,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[13]||(e[13]=c=>t.form.filter_id=c),onKeypress:e[14]||(e[14]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_id]])]),a("span",En,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[15]||(e[15]=c=>t.changeColumnSort(!0,"sort_id"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_id==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="account_id"?(f(),v("div",In,[a("span",zn,[d("Account ID"),Un,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[16]||(e[16]=c=>t.form.filter_account_id=c),onKeypress:e[17]||(e[17]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_account_id]])]),a("span",Mn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[18]||(e[18]=c=>t.changeColumnSort(!0,"sort_account_id"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_account_id==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_account_id!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="acct_description"?(f(),v("div",Bn,[a("span",Ln,[d("Account Description"),Yn,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[19]||(e[19]=c=>t.form.filter_acct_description=c),onKeypress:e[20]||(e[20]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_acct_description]])]),a("span",Vn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[21]||(e[21]=c=>t.changeColumnSort(!0,"sort_acct_description"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_acct_description==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_acct_description!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="effective_date"?(f(),v("div",Rn,[a("span",Kn,[d("Effective Date"),Nn,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[22]||(e[22]=c=>t.form.filter_effective_date=c),onKeypress:e[23]||(e[23]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_effective_date]])]),a("span",jn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[24]||(e[24]=c=>t.changeColumnSort(!0,"sort_effective_date"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_effective_date==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_effective_date!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="trans_type"?(f(),v("div",qn,[a("span",Jn,[d("Transaction Type"),Gn,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[25]||(e[25]=c=>t.form.filter_trans_type=c),onKeypress:e[26]||(e[26]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_trans_type]])]),a("span",Hn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[27]||(e[27]=c=>t.changeColumnSort(!0,"sort_trans_type"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_trans_type==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_trans_type!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="memo"?(f(),v("div",Qn,[a("span",Wn,[d("Memo"),Xn,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[28]||(e[28]=c=>t.form.filter_memo=c),onKeypress:e[29]||(e[29]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_memo]])]),a("span",Zn,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[30]||(e[30]=c=>t.changeColumnSort(!0,"sort_memo"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_memo==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_memo!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="amount"?(f(),v("div",xn,[a("span",ta,[d("Amount"),ea,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[31]||(e[31]=c=>t.form.filter_amount=c),onKeypress:e[32]||(e[32]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_amount]])]),a("span",na,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[33]||(e[33]=c=>t.changeColumnSort(!0,"sort_amount"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_amount==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_amount!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="entry_date"?(f(),v("div",aa,[a("span",sa,[d("Entry Date"),oa,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[34]||(e[34]=c=>t.form.filter_entry_date=c),onKeypress:e[35]||(e[35]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_entry_date]])]),a("span",la,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[36]||(e[36]=c=>t.changeColumnSort(!0,"sort_entry_date"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_entry_date==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_entry_date!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="created_at"?(f(),v("div",ia,[a("span",ra,[d("Created At"),da,w(a("input",{class:"single-input",type:"text","onUpdate:modelValue":e[37]||(e[37]=c=>t.form.filter_created_at=c),onKeypress:e[38]||(e[38]=T(c=>t.searchTransactions(!0),["enter"]))},null,544),[[A,t.form.filter_created_at]])]),a("span",ca,[a("span",{class:"ant-table-column-sorter-inner",onClick:e[39]||(e[39]=c=>t.changeColumnSort(!0,"sort_created_at"))},[n(Y,{class:p(["ant-table-column-sorter-up",t.form.sort_created_at==1?"active":""])},null,8,["class"]),n(V,{class:p(["ant-table-column-sorter-down",t.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):$("",!0),m.key==="action"?(f(),v(K,{key:9},[d(" Action"),ua,pa],64)):$("",!0)]),bodyCell:o(({column:m,record:c,text:Q})=>[m.dataIndex==="name"?(f(),v("a",ma,z(Q),1)):$("",!0),m.dataIndex==="txtype"?(f(),N(ft,{key:1,color:"#3197FC"},{default:o(()=>[d(z(Q),1)]),_:2},1024)):$("",!0),m.dataIndex==="action"?(f(),v("div",_a,[n(ht,{onClick:W=>t.showEditDataModal(c.id),class:"icon-edit"},null,8,["onClick"]),n(gt,{onClick:e[40]||(e[40]=W=>t.createAuditTrail("click","Clicked on the nullify transaction button."))}),n(bt,{onClick:e[41]||(e[41]=W=>t.createAuditTrail("click","Clicked on the delete transaction button.")),transaction_id:c.id,acct_description:c.acct_description},null,8,["transaction_id","acct_description"])])):$("",!0)]),_:1},8,["row-selection","columns","data-source","onResizeColumn","row-class-name","loading"]),n(yt,{ref:"editDataModal"},null,512)],64)}const ha=M(hn,[["render",fa],["__scopeId","data-v-7366d6df"]]);const ga=U({components:{AdminLayout:kt,ListData:ha},data(){return{title:"Transaction Vault"}}}),ba={class:"view-container"};function va(t,e,i,_,r,C){const h=s("ListData"),u=s("AdminLayout");return f(),N(u,{defaultKey:"5"},{default:o(()=>[a("h1",null,z(t.title),1),a("div",ba,[n(h)])]),_:1})}const Aa=M(ga,[["render",va],["__scopeId","data-v-6adfb0f0"]]);export{Aa as default};
