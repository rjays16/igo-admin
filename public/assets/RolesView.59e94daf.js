import{A as re}from"./AdminLayout.ba70a04c.js";import{d as D,_ as E,f as l,o as _,g as I,r as $,q as x,j as w,m as C,s as j,w as n,c as o,k as c,e as s,p as N,b as V,D as G,a as v,t as B,u as de,v as ce,x as ue,y as pe,z as P,B as b,F as M,G as me,H as K,I as L,h as S}from"./index.eb92509b.js";import{F as Y,a as he}from"./FormOutlined.d5dd1fe9.js";import{E as _e,F as fe,a as ke}from"./FilePdfOutlined.e006f83b.js";import{S as ge,a as ye,C as be,b as ve}from"./StepForwardFilled.9c5935c0.js";const Ce=D({setup(){return{treeData:[{title:"iGo Group",key:"0",children:[{title:"Dashboard",key:"0-1",children:[{title:"View Deposit Stats",key:"0-1-1"},{title:"View Credit Stats",key:"0-1-2"},{title:"View Withdrawal Stats",key:"0-1-3"},{title:"View Interest Earned Periodic Stats",key:"0-1-4"},{title:"View Interest Adjustment Stats",key:"0-1-5"}]},{title:"Clients",key:"0-2",children:[{title:"Add Client Button",key:"0-2-1"},{title:"Export To Button",key:"0-2-2",children:[{title:"Excel Format",key:"0-2-2-1"},{title:"CSV Format",key:"0-2-2-2"},{title:"PDF Format",key:"0-2-2-3"}]},{title:"Filter Box",key:"0-2-3"},{title:"Client Table",key:"0-2-4",children:[{title:"Client ID",key:"0-2-4-1"},{title:"First Name",key:"0-2-4-2",children:[{title:"Show This Field",key:"0-2-4-2-1"},{title:"Allow Update On This Field",key:"0-2-4-2-2"}]},{title:"Last Name",key:"0-2-4-3",children:[{title:"Show This Field",key:"0-2-4-3-1"},{title:"Allow Update On This Field",key:"0-2-4-3-2"}]},{title:"Email Address",key:"0-2-4-4"},{title:"Organization",key:"0-2-4-5"},{title:"Address1",key:"0-2-4-6"},{title:"Address2",key:"0-2-4-7"},{title:"City",key:"0-2-4-8"},{title:"State",key:"0-2-4-9"},{title:"Zip",key:"0-2-4-10"},{title:"Phone",key:"0-2-4-11",children:[{title:"Show This Field",key:"0-2-4-11-1"},{title:"Allow Update On This Field",key:"0-2-4-11-2"}]},{title:"Type",key:"0-2-4-12"},{title:"CADate",key:"0-2-4-13"},{title:"Actions",key:"0-2-4-14",children:[{title:"Edit Button",key:"0-2-4-14-1",children:[{title:"Show This Button",key:"0-2-4-14-1-1"},{title:"Disable This Button",key:"0-2-4-14-1-2"}]},{title:"Delete Button",key:"0-2-4-14-2",children:[{title:"Show This Button",key:"0-2-4-14-2-1"},{title:"Disable This Button",key:"0-2-4-14-2-2"}]}]}]}]},{title:"Accounts",key:"0-3"},{title:"Terms",key:"0-4"},{title:"Transactions",key:"0-5"},{title:"Summary",key:"0-6",children:[{title:"Generate Button",key:"0-6-1",children:[{title:"Show This Button",key:"0-6-1-1"},{title:"Disable This Button",key:"0-6-1-2"}]},{title:"Export To Button",key:"0-6-2",children:[{title:"Excel File Format",key:"0-6-2-1"},{title:"CSV File Format",key:"0-6-2-2"},{title:"PDF File Format",key:"0-6-2-3"}]},{title:"Balance Summary By Type",key:"0-6-3"},{title:"Interest Last Year And Current Balance Table",key:"0-6-4"},{title:"Summary Table",key:"0-6-5",children:[{title:"ID",key:"0-6-5-1"},{title:"Account Description",key:"0-6-5-2"},{title:"Status",key:"0-6-5-3"},{title:"Client ID",key:"0-6-5-4"}]}]},{title:"IA Dashboard",key:"0-7"},{title:"Statements",key:"0-8"},{title:"Interest Report",key:"0-9"},{title:"Audit Trail",key:"0-10"},{title:"Settings",key:"0-11",children:[{title:"Transaction Type",key:"0-11-1",children:[{title:"Add Transaction Type Button",key:"0-11-1-1"},{title:"Export To",key:"0-11-1-2"},{title:"Filter Box",key:"0-11-1-3"},{title:"Transaction Type Table",key:"0-11-1-4",children:[{title:"ID",key:"0-11-1-4-1"},{title:"Trans Type",key:"0-11-1-4-2",children:[{title:"Show This Field",key:"0-11-1-4-2-1"},{title:"Allow Update To This Field",key:"0-11-1-4-2-2"}]},{title:"Description",key:"0-11-1-4-3"},{title:"Created At",key:"0-11-1-4-4"},{title:"Actions",key:"0-11-1-4-5",children:[{title:"Edit Button",key:"0-11-1-4-5-1",children:[{title:"Show This Button",key:"0-11-1-4-5-1-1"},{title:"Disable This Button",key:"0-11-1-4-5-1-2"}]},{title:"Delete Button",key:"0-11-1-4-5-2",children:[{title:"Show This Button",key:"0-11-1-4-5-2-1"},{title:"Disable This Button",key:"0-11-1-4-5-2-2"}]}]}]}]},{title:"Client Type",key:"0-11-2"},{title:"Organization",key:"0-11-3"},{title:"States",key:"0-11-4"},{title:"Cities",key:"0-11-5"},{title:"Users",key:"0-11-6"},{title:"Roles",key:"0-11-7"}]}]}]}},data(){return{expandedKeys:[],checkedKeys:[]}}});function Fe(e,t,a,u,h,g){const p=l("a-directory-tree");return _(),I(p,{expandedKeys:e.expandedKeys,"onUpdate:expandedKeys":t[0]||(t[0]=r=>e.expandedKeys=r),checkedKeys:e.checkedKeys,"onUpdate:checkedKeys":t[1]||(t[1]=r=>e.checkedKeys=r),multiple:"",checkable:"",selectable:!1,"tree-data":e.treeData},null,8,["expandedKeys","checkedKeys","tree-data"])}const H=E(Ce,[["render",Fe]]);const $e=D({components:{FormOutlined:Y,RoleTreeNodes:H},setup(){const e=$(!1),t=$(!1),a=x({role:null,description:null});return{visible:t,AddEditformState:a,onFinish:r=>{console.log("Success:",r)},onFinishFailed:r=>{console.log("Failed:",r)},handleCancel:()=>{t.value=!1},handleOk:()=>{e.value=!0,setTimeout(()=>{e.value=!1,t.value=!1},1e3)},loading:e}},methods:{showModal(e){this.role_id=e,this.visible=!0,this.getRole()},getRole(){w.post(`/role/show/${this.role_id}`,{},{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{let t=e.data.data;this.AddEditformState.role=t.role,this.AddEditformState.description=t.description;let a=t.permission.split(",");this.$refs.permissionNodes.checkedKeys=a}).catch(e=>{console.error(e),C.error(e.response.data.message),this.visible=!1})},submit(){this.loading=!0,this.AddEditformState.permission=this.$refs.permissionNodes.checkedKeys.toString(),w.post(`/role/update/${this.role_id}`,j(this.AddEditformState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{C.success(e.data.message),this.visible=!1,this.loading=!1,this.$parent.getRoles()}).catch(e=>{console.error(e),C.error(e.response.data.message),this.loading=!1})}}}),we=e=>(N("data-v-de2ec4d6"),e=e(),V(),e),Ae=we(()=>s("div",{class:"ant-col ant-form-item-label"},[s("label",{for:"basic_permission",class:"ant-form-item-required",title:"Permissions"}," Permissions ")],-1)),Te={class:"tree-node-container"};function Se(e,t,a,u,h,g){const p=l("a-input"),r=l("a-form-item"),m=l("a-col"),y=l("a-row"),f=l("a-textarea"),A=l("RoleTreeNodes"),T=l("a-form"),F=l("a-button"),O=l("a-modal");return _(),I(O,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=k=>e.visible=k),title:"Update Role","ok-text":"Update",width:"800px",centered:"","cancel-text":"Cancel"},{footer:n(()=>[o(F,{key:"back",onClick:e.handleCancel},{default:n(()=>[c("Cancel")]),_:1},8,["onClick"]),o(F,{key:"submit",type:"primary","html-type":"submit",loading:e.loading,disabled:e.loading,onClick:e.submit},{default:n(()=>[c("Update")]),_:1},8,["loading","disabled","onClick"])]),default:n(()=>[o(T,{model:e.AddEditformState,name:"basic",layout:"vertical",autocomplete:"off",onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},{default:n(()=>[o(y,{gutter:24},{default:n(()=>[o(m,{span:12},{default:n(()=>[o(r,{label:"Role",name:"role",rules:[{required:!0,message:"Please input the role."}]},{default:n(()=>[o(p,{value:e.AddEditformState.role,"onUpdate:value":t[0]||(t[0]=k=>e.AddEditformState.role=k)},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),o(y,{gutter:24},{default:n(()=>[o(m,{span:24},{default:n(()=>[o(r,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:n(()=>[o(f,{value:e.AddEditformState.description,"onUpdate:value":t[1]||(t[1]=k=>e.AddEditformState.description=k),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1}),o(m,{span:24},{default:n(()=>[Ae]),_:1})]),_:1}),s("div",Te,[o(A,{ref:"permissionNodes"},null,512)])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["visible"])}const De=E($e,[["render",Se],["__scopeId","data-v-de2ec4d6"]]);const Ee=D({props:["role_id","role"],components:{DeleteOutlined:G},setup(){const e=$(!1),t=$(!0),a=$(!1);return{visible:a,handleCancel:()=>{a.value=!1},handleOk:g=>{e.value=!0,setTimeout(()=>{e.value=!1,a.value=!1},1e3)},loading:e,disabled:t}},data(){return{confirmation_text:"YES DELETE",confirmation_input:null}},methods:{showModal(){this.visible=!0},checkText(){this.disabled=this.confirmation_input!=this.confirmation_text},submit(){this.loading=!0,this.disabled=!0,w.delete(`/role/delete/${this.role_id}`,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{C.success(e.data.message),this.visible=!1,this.loading=!1,this.disabled=!1,setTimeout(()=>{window.location.reload()},1500)}).catch(e=>{console.error(e),C.error(e.response.data.message),this.loading=!1,this.disabled=!1})}}}),q=e=>(N("data-v-55750b69"),e=e(),V(),e),Re=q(()=>s("h3",null,"Are you sure you want to delete this record?",-1)),Be={class:"delete-container"},Oe=q(()=>s("br",null,null,-1)),Pe=q(()=>s("p",null,[c("Type "),s("strong",null,'"YES DELETE"'),c(".")],-1));function Ie(e,t,a,u,h,g){const p=l("DeleteOutlined"),r=l("a-input"),m=l("a-button"),y=l("a-modal");return _(),v("div",null,[o(p,{onClick:e.showModal,style:{"font-size":"large",color:"red"}},null,8,["onClick"]),o(y,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=f=>e.visible=f),title:"Confirmation","ok-text":"Delete",centered:"","cancel-text":"Cancel",onOk:e.handleOk},{footer:n(()=>[o(m,{key:"back",onClick:e.handleCancel},{default:n(()=>[c("Cancel")]),_:1},8,["onClick"]),o(m,{key:"submit",type:"primary","html-type":"submit",loading:e.loading,disabled:e.disabled,onClick:e.submit},{default:n(()=>[c(" Yes ")]),_:1},8,["loading","disabled","onClick"])]),default:n(()=>[Re,s("div",Be,[s("p",null,[s("strong",null,[c("ID: "+B(e.role_id),1),Oe,c(" Role: "+B(e.role),1)])]),o(r,{value:e.confirmation_input,"onUpdate:value":t[0]||(t[0]=f=>e.confirmation_input=f),onInput:t[1]||(t[1]=f=>e.checkText())},null,8,["value"]),Pe])]),_:1},8,["visible","onOk"])])}const ze=E(Ee,[["render",Ie],["__scopeId","data-v-55750b69"]]);const Ue=D({components:{RoleTreeNodes:H},setup(){const e=$(!1),t=$(!1),a=()=>{t.value=!0},u=x({role:null,description:null});return{visible:t,showModal:a,AddEditformState:u,onFinish:m=>{console.log("Success:",m)},onFinishFailed:m=>{console.log("Failed:",m)},handleCancel:()=>{t.value=!1},handleOk:()=>{e.value=!0,setTimeout(()=>{e.value=!1,t.value=!1},1e3)},loading:e}},methods:{submit(){this.loading=!0,this.AddEditformState.permission=this.$refs.permissionNodes.checkedKeys.toString(),w.post("/role/store",j(this.AddEditformState),{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{C.success(e.data.message),this.visible=!1,this.loading=!1}).catch(e=>{C.error(e.response.data.message),this.loading=!1})}}}),Ke=e=>(N("data-v-3120c208"),e=e(),V(),e),Le=Ke(()=>s("div",{class:"ant-col ant-form-item-label"},[s("label",{for:"basic_permission",class:"ant-form-item-required",title:"Permissions"}," Permissions ")],-1)),Ne={class:"tree-node-container"};function Ve(e,t,a,u,h,g){const p=l("a-button"),r=l("a-input"),m=l("a-form-item"),y=l("a-col"),f=l("a-row"),A=l("a-textarea"),T=l("RoleTreeNodes"),F=l("a-form"),O=l("a-modal");return _(),v("div",null,[o(p,{size:"large",type:"primary",onClick:e.showModal},{default:n(()=>[c("Add Role")]),_:1},8,["onClick"]),o(O,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=k=>e.visible=k),title:"Add New Role","ok-text":"Add",width:"800px",centered:"","cancel-text":"Cancel"},{footer:n(()=>[o(p,{key:"back",onClick:e.handleCancel},{default:n(()=>[c("Cancel")]),_:1},8,["onClick"]),o(p,{key:"submit",type:"primary","html-type":"submit",loading:e.loading,disabled:e.loading,onClick:e.submit},{default:n(()=>[c("Add")]),_:1},8,["loading","disabled","onClick"])]),default:n(()=>[o(F,{model:e.AddEditformState,name:"basic",layout:"vertical",autocomplete:"off",onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},{default:n(()=>[o(f,{gutter:24},{default:n(()=>[o(y,{span:12},{default:n(()=>[o(m,{label:"Role",name:"role",rules:[{required:!0,message:"Please input the role."}]},{default:n(()=>[o(r,{value:e.AddEditformState.role,"onUpdate:value":t[0]||(t[0]=k=>e.AddEditformState.role=k)},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),o(f,{gutter:24},{default:n(()=>[o(y,{span:24},{default:n(()=>[o(m,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the description."}]},{default:n(()=>[o(A,{value:e.AddEditformState.description,"onUpdate:value":t[1]||(t[1]=k=>e.AddEditformState.description=k),maxlength:255},null,8,["value"])]),_:1},8,["rules"])]),_:1}),o(y,{span:24},{default:n(()=>[Le]),_:1})]),_:1}),s("div",Ne,[o(T,{ref:"permissionNodes"},null,512)])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["visible"])])}const Me=E(Ue,[["render",Ve],["__scopeId","data-v-3120c208"]]);const qe=D({components:{ExportOutlined:_e,FileExcelOutlined:fe,FileOutlined:de,FilePdfOutlined:ke},methods:{exportTo(e){let t=this.$parent.form;t.export_to=e.key,w.post("/role",t,{responseType:"blob",headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(a=>{C.success("Successfully exported data.");const u=URL.createObjectURL(new Blob([a.data])),h=document.createElement("a");h.href=u,h.setAttribute("download","roles."+e.key),document.body.appendChild(h),h.click(),document.body.removeChild(h)}).catch(a=>{console.error(a),C.error(a.response.data.message)})}}}),xe={class:"export-dropdown-wrap"};function je(e,t,a,u,h,g){const p=l("FileExcelOutlined"),r=l("a-menu-item"),m=l("FileOutlined"),y=l("FilePdfOutlined"),f=l("a-menu"),A=l("ExportOutlined"),T=l("a-button"),F=l("a-dropdown");return _(),v("div",xe,[o(F,{trigger:["click"]},{overlay:n(()=>[o(f,{onClick:e.exportTo},{default:n(()=>[o(r,{key:"xlsx"},{default:n(()=>[o(p),c(" Excel File ")]),_:1}),o(r,{key:"csv"},{default:n(()=>[o(m),c(" CSV File ")]),_:1}),o(r,{key:"pdf"},{default:n(()=>[o(y),c(" PDF File ")]),_:1})]),_:1},8,["onClick"])]),default:n(()=>[o(T,{size:"large"},{default:n(()=>[c(" Export To "),o(A)]),_:1})]),_:1})])}const Ge=E(qe,[["render",je],["__scopeId","data-v-192b746f"]]);const Ye=D({components:{FormOutlined:Y,DeleteOutlined:G,FilterOutlined:he,DownOutlined:ce,CaretUpOutlined:ue,CaretDownOutlined:pe,EditData:De,DeleteData:ze,StepBackwardFilled:ge,StepForwardFilled:ye,CaretLeftFilled:be,CaretRightFilled:ve,AddEdit:Me,RolesExport:Ge},setup(){const e=$([{title:"ID",dataIndex:"id",key:"id",width:100,resizable:!0},{title:"Role",dataIndex:"role",key:"role",width:150,resizable:!0},{title:"Description",dataIndex:"description",key:"description",width:700,resizable:!0,ellipsis:!0},{title:"Created At",dataIndex:"created_at",key:"created_at",width:180,resizable:!0},{title:"Action",dataIndex:"action",key:"action",fixed:"right",width:80}]);return{data:[],columns:e,handleResizeColumn:(a,u)=>{u.width=a}}},data(){return{active_records:0,data:[],role_list:[],role_pagination:{meta:{to:1},links:{next:null}},loading:!0,current:1,pageSize:parseInt("10"),page_sizes:JSON.parse('["10", "100", "500", "1000", "3000", "5000", "10000", "20000", "50000"]'),form:{page:1,per_page:parseInt("10"),filter_allcolumn:null,filter_activatewildcard:!1,filter_id:null,filter_role:null,filter_description:null,filter_created_at:null,sort_id:0,sort_role:0,sort_description:0,sort_created_at:0,export_to:""},current_route:this.$router.currentRoute.value,user_data:this.$cookies.get("user-data"),searched_columns:""}},methods:{getRoles(){this.form.per_page=this.pageSize,this.getRolesByParams()},getRolesByParams(){this.loading=!0,this.form.export_to="",w.post("/role",this.form,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{let t=e.data;this.role_list=t.data,this.role_pagination=t,this.loading=!1,C.success(t.message),this.getRolesStats()}).catch(e=>{console.error(e),this.role_list=[],this.role_pagination={meta:{total:0},links:{next:null}},this.loading=!1,C.error(e.response.data.message)})},searchRoles(e){this.current=1,this.form.per_page=this.pageSize,this.form.page=1,this.getRolesByParams(),e&&this.createAuditTrail("search")},onPageChange(){this.form.per_page=this.pageSize,this.form.page=this.current,this.getRolesByParams(),this.scrollToTop()},toFirstPage(){this.searchRoles(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to first page" button in the pagination for roles.')},toPreviousPage(){this.current=this.current-1,this.form.page=this.current,this.getRolesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the previous button in the pagination for roles.")},toNextPage(){this.current=this.current+1,this.form.page=this.current,this.getRolesByParams(),this.scrollToTop(),this.createAuditTrail("click","Clicked on the next button in the pagination for roles.")},toLastPage(){this.current=this.role_pagination.meta.to,this.form.page=this.current,this.getRolesByParams(),this.scrollToTop(),this.createAuditTrail("click",'Clicked on the "go to last page" button in the pagination for roles.')},changeColumnSort(e,t){this.form[t]=this.form[t]+1,this.form[t]==3&&(this.form[t]=0),this.searchRoles(),e&&this.createAuditTrail("search")},getRolesStats(){w.get("/role/stats",{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(e=>{this.active_records=e.data.data.active_records}).catch(e=>{console.error(e.response.data.message),this.active_records=0})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},showEditDataModal(e){this.$refs.editDataModal.showModal(e),this.createAuditTrail("click","Clicked on the edit role button.")},createAuditTrail(e,t=null){let a={user_id:this.user_data.id,pages:this.current_route.fullPath};if(e=="click")a.activity=t;else if(e=="search"){let u="Searched roles by ";this.searched_columns=Object.entries(this.form).toString().replaceAll(",",", ").replaceAll(" ,"," null,").replaceAll("filter_","").replaceAll(/\export_to.*?\b/g,"").replaceAll("_"," ");let g=u.concat("",this.searched_columns).split(/sort(.*)/s),p=g[1].replaceAll(" 0,"," default,").replaceAll(", 0",", default").replaceAll(" 1,"," ascending,").replaceAll(", 1",", ascending").replaceAll(" 2,"," descending,").replaceAll(", 2",", descending"),r=g[0].concat("sort",p).replace(/(^[,\s]+)|([,\s]+$)/g,"");a.activity=r}w.post("/audit-trail/store",a,{headers:{Authorization:`Bearer ${this.$cookies.get("igo-x-access-token")}`}}).then(u=>{console.log(u.data.message)}).catch(u=>{console.error(u.response.data.message)})}},mounted(){this.getRoles()}}),R=e=>(N("data-v-57691ff6"),e=e(),V(),e),He={class:"action-container"},Je={class:"role-filter"},We={class:"fw-bold"},Ze={class:"pagination mt-3 text-right"},Qe={class:"d-inline-block"},Xe={class:"pagination-list lst-none p-0 d-inline-flex w-100"},et=["disabled"],tt=["disabled"],ot={class:"d-inline-block mr-2"},lt=R(()=>s("p",{class:"d-inline-block mr-2"},"page",-1)),st=["disabled"],nt={title:"Last Page",class:"ant-pagination-next mr-2 ant-pagination-disabled"},it={key:0,class:"ant-table-column-sorters"},at={class:"ant-table-column-title"},rt=R(()=>s("br",null,null,-1)),dt={class:"ant-table-column-sorter ant-table-column-sorter-full"},ct={key:1,class:"ant-table-column-sorters"},ut={class:"ant-table-column-title"},pt=R(()=>s("br",null,null,-1)),mt={class:"ant-table-column-sorter ant-table-column-sorter-full"},ht={key:2,class:"ant-table-column-sorters"},_t={class:"ant-table-column-title"},ft=R(()=>s("br",null,null,-1)),kt={class:"ant-table-column-sorter ant-table-column-sorter-full"},gt={key:3,class:"ant-table-column-sorters"},yt={class:"ant-table-column-title"},bt=R(()=>s("br",null,null,-1)),vt={class:"ant-table-column-sorter ant-table-column-sorter-full"},Ct=R(()=>s("br",null,null,-1)),Ft=R(()=>s("br",null,null,-1)),$t={key:1,class:"d-flex"};function wt(e,t,a,u,h,g){const p=l("AddEdit"),r=l("RolesExport"),m=l("FilterOutlined"),y=l("a-input"),f=l("a-checkbox"),A=l("a-form-item"),T=l("a-form"),F=l("a-col"),O=l("StepBackwardFilled"),k=l("CaretLeftFilled"),J=l("a-input-number"),W=l("CaretRightFilled"),Z=l("StepForwardFilled"),Q=l("a-select-option"),X=l("a-select"),ee=l("a-row"),z=l("CaretUpOutlined"),U=l("CaretDownOutlined"),te=l("a-tag"),oe=l("FormOutlined"),le=l("DeleteData"),se=l("a-table"),ne=l("EditData");return _(),v(M,null,[s("div",He,[o(p,{onClick:t[0]||(t[0]=i=>e.createAuditTrail("click","Clicked on the add role button."))}),o(r,{onClick:t[1]||(t[1]=i=>e.createAuditTrail("click","Clicked on the export roles button."))})]),s("div",Je,[o(ee,{gutter:24},{default:n(()=>[o(F,{span:6},{default:n(()=>[o(T,null,{default:n(()=>[o(A,{label:"Filter",name:"rolefilter"},{default:n(()=>[o(y,{value:e.form.filter_allcolumn,"onUpdate:value":t[2]||(t[2]=i=>e.form.filter_allcolumn=i),onKeypress:t[3]||(t[3]=P(i=>e.searchRoles(!0),["enter"]))},{prefix:n(()=>[o(m,{class:"site-form-item-icon"})]),_:1},8,["value"]),o(f,{checked:e.form.filter_activatewildcard,"onUpdate:checked":t[4]||(t[4]=i=>e.form.filter_activatewildcard=i)},{default:n(()=>[c("perform subfilter wildcard search")]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1}),o(F,{span:6}),o(F,{span:12,class:"text-right"},{default:n(()=>[s("h3",We," Overall Total Role Records: "+B(e.active_records.toLocaleString()),1),s("div",Ze,[s("div",Qe,[s("ul",Xe,[s("li",{title:"First Page",class:b(["ant-pagination-prev",e.form.page==1?"ant-pagination-disabled":""])},[s("button",{class:"ant-pagination-item-link",type:"button",onClick:t[5]||(t[5]=(...i)=>e.toFirstPage&&e.toFirstPage(...i)),disabled:e.form.page==1},[o(O)],8,et)],2),s("li",{class:b(["ant-pagination-prev",e.form.page==1?"ant-pagination-disabled":""])},[s("button",{class:"ant-pagination-item-link",type:"button",onClick:t[6]||(t[6]=(...i)=>e.toPreviousPage&&e.toPreviousPage(...i)),disabled:e.form.page==1},[o(k)],8,tt)],2),s("li",ot,[lt,o(J,{class:"d-inline-block text-center page-number",value:e.current,"onUpdate:value":t[7]||(t[7]=i=>e.current=i),min:1,onChange:e.onPageChange,onPressEnter:e.onPageChange},null,8,["value","onChange","onPressEnter"])]),s("li",{class:b(["ant-pagination-next mr-2",e.role_pagination.links.next?"":"ant-pagination-disabled"])},[s("button",{class:"ant-pagination-item-link",type:"button",onClick:t[8]||(t[8]=(...i)=>e.toNextPage&&e.toNextPage(...i)),disabled:!e.role_pagination.links.next},[o(W)],8,st)],2),s("li",nt,[s("button",{class:"ant-pagination-item-link",type:"button",onClick:t[9]||(t[9]=(...i)=>e.toLastPage&&e.toLastPage(...i)),disabled:""},[o(Z)])]),o(X,{value:e.pageSize,"onUpdate:value":t[10]||(t[10]=i=>e.pageSize=i),onChange:e.onPageChange},{default:n(()=>[(_(!0),v(M,null,me(e.page_sizes,(i,d)=>(_(),I(Q,{value:i,key:d},{default:n(()=>[c(B(i+" / page"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])])])])]),_:1})]),_:1})]),o(se,{sticky:"",columns:e.columns,"data-source":e.role_list,onResizeColumn:e.handleResizeColumn,scroll:{x:1e3},"row-class-name":(i,d)=>d%2===1?"table-striped":null,pagination:!1,loading:e.loading,size:"small"},{headerCell:n(({column:i})=>[i.key==="id"?(_(),v("div",it,[s("span",at,[c("ID"),rt,K(s("input",{class:"single-input",type:"text","onUpdate:modelValue":t[11]||(t[11]=d=>e.form.filter_id=d),onKeypress:t[12]||(t[12]=P(d=>e.searchRoles(!0),["enter"]))},null,544),[[L,e.form.filter_id]])]),s("span",dt,[s("span",{class:"ant-table-column-sorter-inner",onClick:t[13]||(t[13]=d=>e.changeColumnSort(!0,"sort_id"))},[o(z,{class:b(["ant-table-column-sorter-up",e.form.sort_id==1?"active":""])},null,8,["class"]),o(U,{class:b(["ant-table-column-sorter-down",e.form.sort_id!=2?"":"active"])},null,8,["class"])])])])):S("",!0),i.key==="role"?(_(),v("div",ct,[s("span",ut,[c("Role"),pt,K(s("input",{class:"single-input",type:"text","onUpdate:modelValue":t[14]||(t[14]=d=>e.form.filter_role=d),onKeypress:t[15]||(t[15]=P(d=>e.searchRoles(!0),["enter"]))},null,544),[[L,e.form.filter_role]])]),s("span",mt,[s("span",{class:"ant-table-column-sorter-inner",onClick:t[16]||(t[16]=d=>e.changeColumnSort(!0,"sort_role"))},[o(z,{class:b(["ant-table-column-sorter-up",e.form.sort_role==1?"active":""])},null,8,["class"]),o(U,{class:b(["ant-table-column-sorter-down",e.form.sort_role!=2?"":"active"])},null,8,["class"])])])])):S("",!0),i.key==="description"?(_(),v("div",ht,[s("span",_t,[c("Description"),ft,K(s("input",{class:"single-input",type:"text","onUpdate:modelValue":t[17]||(t[17]=d=>e.form.filter_description=d),onKeypress:t[18]||(t[18]=P(d=>e.searchRoles(!0),["enter"]))},null,544),[[L,e.form.filter_description]])]),s("span",kt,[s("span",{class:"ant-table-column-sorter-inner",onClick:t[19]||(t[19]=d=>e.changeColumnSort(!0,"sort_description"))},[o(z,{class:b(["ant-table-column-sorter-up",e.form.sort_description==1?"active":""])},null,8,["class"]),o(U,{class:b(["ant-table-column-sorter-down",e.form.sort_description!=2?"":"active"])},null,8,["class"])])])])):S("",!0),i.key==="created_at"?(_(),v("div",gt,[s("span",yt,[c("Created At"),bt,K(s("input",{class:"single-input",type:"text","onUpdate:modelValue":t[20]||(t[20]=d=>e.form.filter_created_at=d),onKeypress:t[21]||(t[21]=P(d=>e.searchRoles(!0),["enter"]))},null,544),[[L,e.form.filter_created_at]])]),s("span",vt,[s("span",{class:"ant-table-column-sorter-inner",onClick:t[22]||(t[22]=d=>e.changeColumnSort(!0,"sort_created_at"))},[o(z,{class:b(["ant-table-column-sorter-up",e.form.sort_created_at==1?"active":""])},null,8,["class"]),o(U,{class:b(["ant-table-column-sorter-down",e.form.sort_created_at!=2?"":"active"])},null,8,["class"])])])])):S("",!0),i.key==="action"?(_(),v(M,{key:4},[c(" Action"),Ct,Ft],64)):S("",!0)]),bodyCell:n(({column:i,record:d,text:ie})=>[i.dataIndex==="role"?(_(),I(te,{key:0,color:"#DA012D"},{default:n(()=>[c(B(ie),1)]),_:2},1024)):S("",!0),i.dataIndex==="action"?(_(),v("div",$t,[o(oe,{onClick:ae=>e.showEditDataModal(d.id),class:"icon-edit"},null,8,["onClick"]),o(le,{onClick:t[23]||(t[23]=ae=>e.createAuditTrail("click","Clicked on the delete role button.")),role_id:d.id,role:d.role},null,8,["role_id","role"])])):S("",!0)]),_:1},8,["columns","data-source","onResizeColumn","row-class-name","loading"]),o(ne,{ref:"editDataModal"},null,512)],64)}const At=E(Ye,[["render",wt],["__scopeId","data-v-57691ff6"]]);const Tt=D({components:{AdminLayout:re,ListData:At},data(){return{title:"Role Management"}}}),St={class:"view-container"};function Dt(e,t,a,u,h,g){const p=l("ListData"),r=l("AdminLayout");return _(),I(r,{defaultKey:"11-2",preOpenKey:"11"},{default:n(()=>[s("h1",null,B(e.title),1),s("div",St,[o(p)])]),_:1})}const It=E(Tt,[["render",Dt],["__scopeId","data-v-e989537f"]]);export{It as default};
